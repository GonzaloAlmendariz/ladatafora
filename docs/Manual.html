<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gonzalo Almendariz Villanueva">

<title>Manual de Aplicación del Paquete INCORER – La Datafora</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">La Datafora</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">Sobre el proyecto</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./libro.html"> 
<span class="menu-text">Libro</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./dataforaint.html"> 
<span class="menu-text">La Datafora Interactiva</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./main_proyectos.html"> 
<span class="menu-text">Proyectos</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-incorer" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">IncoreR</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-incorer">    
        <li>
    <a class="dropdown-item" href="./intro.html">
 <span class="dropdown-text">Introducción al paquete</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Manual.html">
 <span class="dropdown-text">Manual para R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./incorerweb.html">
 <span class="dropdown-text">IncoreR en el navegador</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./prosecnur/"> 
<span class="menu-text">Prosecnur</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">En esta página</h2>
   
  <ul class="collapse">
  <li><a href="#introducción" id="toc-introducción" class="nav-link active" data-scroll-target="#introducción"><span class="header-section-number">1</span> Introducción</a></li>
  <li><a href="#lectura-de-los-datos" id="toc-lectura-de-los-datos" class="nav-link" data-scroll-target="#lectura-de-los-datos"><span class="header-section-number">2</span> Lectura de los datos</a></li>
  <li><a href="#catálogos" id="toc-catálogos" class="nav-link" data-scroll-target="#catálogos"><span class="header-section-number">3</span> Catálogos</a>
  <ul class="collapse">
  <li><a href="#catalogo_regiones" id="toc-catalogo_regiones" class="nav-link" data-scroll-target="#catalogo_regiones"><span class="header-section-number">3.1</span> catalogo_regiones</a></li>
  <li><a href="#catalogo_pilar" id="toc-catalogo_pilar" class="nav-link" data-scroll-target="#catalogo_pilar"><span class="header-section-number">3.2</span> catalogo_pilar</a></li>
  <li><a href="#catalogo_indicador" id="toc-catalogo_indicador" class="nav-link" data-scroll-target="#catalogo_indicador"><span class="header-section-number">3.3</span> catalogo_indicador</a></li>
  </ul></li>
  <li><a href="#familia-_general" id="toc-familia-_general" class="nav-link" data-scroll-target="#familia-_general"><span class="header-section-number">4</span> Familia <code>_general</code></a>
  <ul class="collapse">
  <li><a href="#general_tabla" id="toc-general_tabla" class="nav-link" data-scroll-target="#general_tabla"><span class="header-section-number">4.1</span> <strong>general_tabla()</strong></a></li>
  <li><a href="#general_barras" id="toc-general_barras" class="nav-link" data-scroll-target="#general_barras"><span class="header-section-number">4.2</span> <strong>general_barras()</strong></a></li>
  <li><a href="#general_dispersion_pilares" id="toc-general_dispersion_pilares" class="nav-link" data-scroll-target="#general_dispersion_pilares"><span class="header-section-number">4.3</span> <strong>general_dispersion_pilares()</strong></a></li>
  <li><a href="#general_distribucion" id="toc-general_distribucion" class="nav-link" data-scroll-target="#general_distribucion"><span class="header-section-number">4.4</span> <strong>general_distribucion()</strong></a></li>
  <li><a href="#general_heatmap" id="toc-general_heatmap" class="nav-link" data-scroll-target="#general_heatmap"><span class="header-section-number">4.5</span> <strong>general_heatmap()</strong></a></li>
  <li><a href="#general_largo" id="toc-general_largo" class="nav-link" data-scroll-target="#general_largo"><span class="header-section-number">4.6</span> <strong>general_largo()</strong></a></li>
  <li><a href="#general_mapa" id="toc-general_mapa" class="nav-link" data-scroll-target="#general_mapa"><span class="header-section-number">4.7</span> <strong>general_mapa()</strong></a></li>
  <li><a href="#general_media" id="toc-general_media" class="nav-link" data-scroll-target="#general_media"><span class="header-section-number">4.8</span> <strong>general_media()</strong></a></li>
  <li><a href="#general_radar" id="toc-general_radar" class="nav-link" data-scroll-target="#general_radar"><span class="header-section-number">4.9</span> <strong>general_radar()</strong></a></li>
  </ul></li>
  <li><a href="#familia-indc_-y-valor_" id="toc-familia-indc_-y-valor_" class="nav-link" data-scroll-target="#familia-indc_-y-valor_"><span class="header-section-number">5</span> Familia <code>indc_</code> y <code>valor_</code></a>
  <ul class="collapse">
  <li><a href="#indc_tabla-indicadores-por-pilar-puntajes-010" id="toc-indc_tabla-indicadores-por-pilar-puntajes-010" class="nav-link" data-scroll-target="#indc_tabla-indicadores-por-pilar-puntajes-010"><span class="header-section-number">5.1</span> <strong>indc_tabla(): indicadores por pilar (puntajes 0–10)</strong></a></li>
  <li><a href="#valor_tabla-valores-originales-por-indicador-con-unidadfuente" id="toc-valor_tabla-valores-originales-por-indicador-con-unidadfuente" class="nav-link" data-scroll-target="#valor_tabla-valores-originales-por-indicador-con-unidadfuente"><span class="header-section-number">5.2</span> <strong>valor_tabla(): valores originales por indicador (con unidad/fuente)</strong></a></li>
  <li><a href="#barras-por-región-para-un-indicadorindc_barras-y-para-su-valor-valor_barras" id="toc-barras-por-región-para-un-indicadorindc_barras-y-para-su-valor-valor_barras" class="nav-link" data-scroll-target="#barras-por-región-para-un-indicadorindc_barras-y-para-su-valor-valor_barras"><span class="header-section-number">5.3</span> <strong>Barras por región para un indicador(indc_barras) y para su valor (valor_barras)</strong></a></li>
  <li><a href="#líneas-por-indicador-valor_largo-y-por-puntaje-indc_largo" id="toc-líneas-por-indicador-valor_largo-y-por-puntaje-indc_largo" class="nav-link" data-scroll-target="#líneas-por-indicador-valor_largo-y-por-puntaje-indc_largo"><span class="header-section-number">5.4</span> <strong>Líneas por indicador (valor_largo) y por puntaje (indc_largo)</strong></a></li>
  <li><a href="#mapas-por-indicador-valor_mapa-y-por-puntaje-indc_mapa" id="toc-mapas-por-indicador-valor_mapa-y-por-puntaje-indc_mapa" class="nav-link" data-scroll-target="#mapas-por-indicador-valor_mapa-y-por-puntaje-indc_mapa"><span class="header-section-number">5.5</span> <strong>Mapas por indicador (valor_mapa) y por puntaje (indc_mapa)</strong></a></li>
  <li><a href="#dispersión-por-indicador-indc_dispersion" id="toc-dispersión-por-indicador-indc_dispersion" class="nav-link" data-scroll-target="#dispersión-por-indicador-indc_dispersion"><span class="header-section-number">5.6</span> <strong>Dispersión por indicador (indc_dispersion)</strong></a></li>
  <li><a href="#distribución-por-indicador-indc_distribucion" id="toc-distribución-por-indicador-indc_distribucion" class="nav-link" data-scroll-target="#distribución-por-indicador-indc_distribucion"><span class="header-section-number">5.7</span> <strong>Distribución por indicador (indc_distribucion)</strong></a></li>
  <li><a href="#telaraña-por-indicadores-indc_radar" id="toc-telaraña-por-indicadores-indc_radar" class="nav-link" data-scroll-target="#telaraña-por-indicadores-indc_radar"><span class="header-section-number">5.8</span> <strong>Telaraña por INDICADORES (indc_radar)</strong></a></li>
  <li><a href="#distribución-por-indicador-indc_distribucion-1" id="toc-distribución-por-indicador-indc_distribucion-1" class="nav-link" data-scroll-target="#distribución-por-indicador-indc_distribucion-1"><span class="header-section-number">5.9</span> <strong>Distribución por indicador (indc_distribucion)</strong></a></li>
  <li><a href="#heatmap-por-indicadores-o-por-tiempo-indc_heatmap" id="toc-heatmap-por-indicadores-o-por-tiempo-indc_heatmap" class="nav-link" data-scroll-target="#heatmap-por-indicadores-o-por-tiempo-indc_heatmap"><span class="header-section-number">5.10</span> <strong>Heatmap por indicadores o por tiempo (indc_heatmap)</strong></a></li>
  <li><a href="#ridgeline-por-año-valor_ridgeline" id="toc-ridgeline-por-año-valor_ridgeline" class="nav-link" data-scroll-target="#ridgeline-por-año-valor_ridgeline"><span class="header-section-number">5.11</span> <strong>Ridgeline por año (valor_ridgeline)</strong></a></li>
  </ul></li>
  <li><a href="#funciones-bivalor_" id="toc-funciones-bivalor_" class="nav-link" data-scroll-target="#funciones-bivalor_"><span class="header-section-number">6</span> Funciones bivalor_</a>
  <ul class="collapse">
  <li><a href="#bivalor_largo" id="toc-bivalor_largo" class="nav-link" data-scroll-target="#bivalor_largo"><span class="header-section-number">6.1</span> <strong>bivalor_largo()</strong></a></li>
  <li><a href="#bivalor_dispersion" id="toc-bivalor_dispersion" class="nav-link" data-scroll-target="#bivalor_dispersion"><span class="header-section-number">6.2</span> <strong>bivalor_dispersion()</strong></a></li>
  <li><a href="#matriz-de-correlaciones-bivariadas-de-valores-bivalor_correlaciones" id="toc-matriz-de-correlaciones-bivariadas-de-valores-bivalor_correlaciones" class="nav-link" data-scroll-target="#matriz-de-correlaciones-bivariadas-de-valores-bivalor_correlaciones"><span class="header-section-number">6.3</span> <strong>Matriz de correlaciones bivariadas de valores (bivalor_correlaciones)</strong></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Manual de Aplicación del Paquete INCORER</h1>
<p class="subtitle lead">Índice de Competitividad Regional (IPE)</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>Gonzalo Almendariz Villanueva </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div style="page-break-after: always;"></div>
<section id="introducción" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Introducción</h1>
<p>El <strong>Índice de Competitividad Regional (INCORE)</strong>, elaborado por el Instituto Peruano de Economía (IPE), surge como una herramienta para comprender cómo distintos pilares (económicos, sociales e institucionales) interactúan en un proceso dinámico que busca elevar el bienestar de la población. El índice parte de la premisa de que la competitividad regional es un <strong>círculo virtuoso</strong>: el fortalecimiento de las capacidades de las regiones mejora la productividad, lo que incrementa los estándares de vida y, a su vez, refuerza dichas capacidades en el tiempo.</p>
<p>En ese marco, el INCORE organiza información heterogénea en una escala común de 0 a 10, permitiendo comparar regiones y evaluar la relación de la competitividad con variables clave como el producto per cápita o la pobreza monetaria. Esta mirada integra el desempeño económico, la calidad de las instituciones, el acceso a infraestructura, la salud y educación, entre otros factores.</p>
<p>El paquete <strong>INCOREr</strong> no está afiliado institucionalmente al IPE, pero surge inspirado en esta iniciativa. Su desarrollo responde a la necesidad de contar con una herramienta práctica en R que facilite <strong>integrar, manipular y explorar la base de datos oficial del INCORE</strong> sin depender de procesos manuales. Así, académicos, estudiantes e investigadores pueden trabajar con los resultados de manera reproducible, confiable y flexible, incorporándolos directamente en sus flujos de análisis cuantitativo o en la construcción de reportes dinámicos.</p>
<p>El paquete busca ser una <strong>interfaz activa</strong> entre la información publicada por el IPE y las necesidades de la investigación aplicada. Esto se traduce en funciones que estandarizan la lectura de archivos, permiten filtrar por ediciones, pilares o indicadores, y ofrecen salidas listas para ser graficadas o tabuladas. Asimismo, el paquete organiza las diferentes unidades de medida, diferencia puntajes estandarizados de valores originales y provee utilitarios que simplifican tareas comunes como la selección de regiones, la comparación temporal o la exportación de resultados.</p>
<p>En esencia, el paquete organiza toda la información del INCORE, ediciones, pilares, indicadores, regiones y unidades, en funciones que permiten:</p>
<ol type="1">
<li><strong>Importar y estructurar datos</strong>
<ul>
<li><code>leer_incore()</code>: lee la base central del índice para una edición específica.<br>
</li>
<li><code>leer_total()</code>: carga la base completa con todas las ediciones y valores originales.<br>
Estas funciones devuelven los datos en formato <em>tibble</em>, listos para ser procesados en R.</li>
</ul></li>
<li><strong>Navegar catálogos</strong>
<ul>
<li>Funciones como <code>catalogo_regiones()</code>, <code>catalogo_pilar()</code>, <code>catalogo_indicador()</code> y <code>catalogo_unidad()</code> devuelven los diccionarios oficiales de referencia, permitiendo traducir entre nombres y códigos.</li>
</ul></li>
<li><strong>Explorar resultados generales</strong>
<ul>
<li>La familia <code>general_</code> genera gráficos y tablas del índice en su dimensión más agregada: el <strong>puntaje general por región</strong> o el <strong>general de cada pilar</strong>.<br>
Ejemplos: <code>general_tabla()</code>, <code>general_barras()</code>, <code>general_mapa()</code>.</li>
</ul></li>
<li><strong>Analizar indicadores específicos (puntajes)</strong>
<ul>
<li>La familia <code>indc_</code> trabaja con los indicadores estandarizados a escala 0–10.<br>
Incluye funciones para dispersión (<code>indc_dispersion()</code>), distribución (<code>indc_distribucion()</code>), evolución temporal (<code>indc_largo()</code>), entre otras.</li>
</ul></li>
<li><strong>Analizar valores originales</strong>
<ul>
<li>La familia <code>valor_</code> conserva las unidades originales de cada indicador (porcentaje, número, soles, etc.).<br>
Esto permite ver los valores “crudos” de los indicadores sin estandarización, útil para interpretación sectorial y comunicación técnica.<br>
Ejemplos: <code>valor_dispersion()</code>, <code>valor_distribucion()</code>, <code>multivalor_ridgeline()</code>.</li>
</ul></li>
<li><strong>Comparaciones bivariadas</strong>
<ul>
<li>La familia <code>bivalor_</code> explora relaciones entre indicadores, mostrando correlaciones, comparaciones y dispersión en pares de variables.</li>
</ul></li>
</ol>
<p>En conjunto, el paquete busca <strong>integrar datos, catálogos y visualizaciones</strong> en una misma interfaz, de modo que los usuarios puedan pasar sin fricción desde una tabla exploratoria hasta un gráfico final para informes.</p>
<p>La estructura modular (general_, indc_, valor_, bivalor_) facilita entender qué tipo de dato se está utilizando (puntajes normalizados vs valores originales) y qué nivel de análisis corresponde (agregado vs detallado).</p>
<p>El paquete <strong>INCORE</strong> permite a investigadores, analistas de política y comunicadores disponer de un ecosistema completo para trabajar con el índice, asegurando rigor en los filtros y claridad en las visualizaciones.</p>
<p>Es importante señalar que el paquete INCOREr se encuentra aún en desarrollo. Existen varias funciones por ampliar, funcionalidades que pueden optimizarse y definiciones de grupos regionales que requieren mayor precisión. El aporte de quienes utilicen esta herramienta es fundamental: la retroalimentación continua permitirá refinarla, expandir sus capacidades y consolidarla como un recurso de referencia para trabajar con los datos del INCORE en R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(incorer)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="lectura-de-los-datos" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Lectura de los datos</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">leer_incore</span>()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>data <span class="sc">|&gt;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(edicion, pilar, region, valor) <span class="sc">|&gt;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   edicion pilar                                  region       valor
     &lt;int&gt; &lt;chr&gt;                                  &lt;chr&gt;        &lt;dbl&gt;
 1    2025 Índice de Competitividad Regional 2025 Amazonas      4.31
 2    2025 Índice de Competitividad Regional 2025 Áncash        5.40
 3    2025 Índice de Competitividad Regional 2025 Apurímac      5.10
 4    2025 Índice de Competitividad Regional 2025 Arequipa      6.91
 5    2025 Índice de Competitividad Regional 2025 Ayacucho      4.85
 6    2025 Índice de Competitividad Regional 2025 Cajamarca     4.38
 7    2025 Índice de Competitividad Regional 2025 Cusco         5.76
 8    2025 Índice de Competitividad Regional 2025 Huancavelica  4.82
 9    2025 Índice de Competitividad Regional 2025 Huánuco       4.37
10    2025 Índice de Competitividad Regional 2025 Ica           6.37</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>data_19 <span class="ot">=</span> <span class="fu">leer_incore</span>(<span class="at">edicion =</span> <span class="dv">2019</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>data_19 <span class="sc">|&gt;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(edicion, pilar, region, valor) <span class="sc">|&gt;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   edicion pilar                                  region       valor
     &lt;int&gt; &lt;chr&gt;                                  &lt;chr&gt;        &lt;dbl&gt;
 1    2019 Índice de Competitividad Regional 2019 Amazonas      3.78
 2    2019 Índice de Competitividad Regional 2019 Áncash        4.73
 3    2019 Índice de Competitividad Regional 2019 Apurímac      4.31
 4    2019 Índice de Competitividad Regional 2019 Arequipa      6.82
 5    2019 Índice de Competitividad Regional 2019 Ayacucho      4.31
 6    2019 Índice de Competitividad Regional 2019 Cajamarca     3.60
 7    2019 Índice de Competitividad Regional 2019 Cusco         5.18
 8    2019 Índice de Competitividad Regional 2019 Huancavelica  3.52
 9    2019 Índice de Competitividad Regional 2019 Huánuco       3.62
10    2019 Índice de Competitividad Regional 2019 Ica           6.16</code></pre>
</div>
</div>
</section>
<section id="catálogos" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Catálogos</h1>
<p>Los catálogos son funciones auxiliares que devuelven diccionarios con las entidades clave del INCORE: regiones, pilares, indicadores y unidades.<br>
Sirven para validar insumos, traducir entre códigos y nombres, y facilitar filtros consistentes en los gráficos y tablas.</p>
<section id="catalogo_regiones" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="catalogo_regiones"><span class="header-section-number">3.1</span> catalogo_regiones</h2>
<p>Devuelve la lista oficial de las 25 regiones más la entrada “Perú”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">catalogo_region</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  codigo nombre   
  &lt;chr&gt;  &lt;chr&gt;    
1 AMZ    Amazonas 
2 ANC    Áncash   
3 APC    Apurímac 
4 AQP    Arequipa 
5 AYA    Ayacucho 
6 CJM    Cajamarca</code></pre>
</div>
</div>
</section>
<section id="catalogo_pilar" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="catalogo_pilar"><span class="header-section-number">3.2</span> catalogo_pilar</h2>
<p>Devuelve los seis pilares que conforman el INCORE:</p>
<ul>
<li><p>Entorno Económico</p></li>
<li><p>Laboral</p></li>
<li><p>Infraestructura</p></li>
<li><p>Salud</p></li>
<li><p>Educación</p></li>
<li><p>Instituciones</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">catalogo_pilar</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  codigo nombre                           
  &lt;chr&gt;  &lt;chr&gt;                            
1 GEN    Índice de Competitividad Regional
2 ECO    Entorno económico                
3 LAB    Laboral                          
4 INF    Infraestructura                  
5 SAL    Salud                            
6 EDU    Educación                        
7 INS    Instituciones                    </code></pre>
</div>
</div>
</section>
<section id="catalogo_indicador" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="catalogo_indicador"><span class="header-section-number">3.3</span> catalogo_indicador</h2>
<p>Lista todos los indicadores que forman parte de cada pilar, con su código (p.ej. LAB1, SAL4).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">catalogo_indicador</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  codigo nombre                                                        
  &lt;chr&gt;  &lt;chr&gt;                                                         
1 GEN    General                                                       
2 ECO1   1.1 PBI real en logaritmos                                    
3 ECO2   1.2 Trabajadores en grandes empresas (más de 100 trabajadores)
4 ECO3   1.3 Gasto real pre cápita mensual                             
5 ECO4   1.4 Apertura externa                                          
6 ECO5   1.5 Tenencia de cuentas                                       </code></pre>
</div>
</div>
</section>
</section>
<section id="familia-_general" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Familia <code>_general</code></h1>
<p>La familia de funciones <code>general_</code> trabaja con el <strong>nivel más agregado del INCORE</strong>: el <strong>puntaje general por región</strong>, ya sea para el índice total o para el <em>general</em> de un pilar.</p>
<p>Estas funciones son útiles para tener una <strong>visión panorámica de la competitividad regional</strong>, explorando tanto comparaciones en una sola edición como tendencias a lo largo del tiempo.</p>
<p>En concreto, permiten:</p>
<ul>
<li><strong>Tablas</strong> (<code>general_tabla</code>): ver los puntajes generales en formato tabular, con opción a mostrar en estilo <code>gt</code>.<br>
</li>
<li><strong>Gráficos de barras</strong> (<code>general_barras</code>): comparar regiones en un año específico.<br>
</li>
<li><strong>Dispersión entre pilares</strong> (<code>general_dispersion_pilares</code>): analizar cómo se relacionan los puntajes generales de distintos pilares.<br>
</li>
<li><strong>Distribución</strong> (<code>general_distribucion</code>): mostrar la variabilidad de los puntajes generales entre regiones, con boxplots o violines.<br>
</li>
<li><strong>Heatmaps</strong> (<code>general_heatmap</code>): seguir la evolución de regiones y ediciones en formato de mapa de calor.<br>
</li>
<li><strong>Series largas</strong> (<code>general_largo</code>): observar la trayectoria de regiones o pilares a lo largo de varias ediciones.<br>
</li>
<li><strong>Mapas geográficos</strong> (<code>general_mapa</code>): representar en el territorio los puntajes generales por región.<br>
</li>
<li><strong>Comparación con el promedio</strong> (<code>general_media</code>): contrastar regiones con el promedio nacional o de un grupo seleccionado.<br>
</li>
<li><strong>Gráficos radar</strong> (<code>general_radar</code>): comparar varias regiones de manera simultánea en forma de radar.</li>
</ul>
<section id="general_tabla" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="general_tabla"><span class="header-section-number">4.1</span> <strong>general_tabla()</strong></h2>
<p><strong>Puntaje General por región con ediciones en columnas</strong></p>
<p>Esta función es la primera de la familia de utilidades general_* y su objetivo es <strong>construir una tabla “ancha”</strong> con el <strong>puntaje General (0–10)</strong> del INCORE. Las <strong>filas</strong> corresponden a <strong>regiones</strong> y las <strong>columnas</strong> a las <strong>ediciones</strong> solicitadas, con encabezados del tipo puntaje_YYYY. Internamente, filtra únicamente las filas cuyo pilar <strong>empieza</strong> con <em>“Índice de Competitividad Regional”</em> (es decir, el índice de portada) y, por diseño, <strong>excluye</strong> la fila “Perú” salvo que se indique lo contrario.</p>
<section id="introducción-1" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="introducción-1"><span class="header-section-number">4.1.1</span> <strong>Introducción</strong></h3>
<p><code>general_tabla()</code> resuelve una necesidad frecuente en análisis y reporte: <strong>comparar de forma compacta</strong> el desempeño general por <strong>región</strong> a través de <strong>una o varias ediciones</strong>. Frente a un gráfico, la tabla facilita <strong>exportaciones</strong>, <strong>validaciones cruzadas</strong> y <strong>anexos metodológicos</strong>. Además, puede devolver un objeto tibble listo para <strong>manipulación</strong> posterior o, si se solicita, formatear una <strong>tabla gt</strong> con encabezados pulidos para su uso directo en informes y documentos.</p>
<p>Los argumentos usar_codigos e incluir_peru cumplen funciones operativas: el primero armoniza <strong>códigos/nombres</strong> de región antes de filtrar y el segundo decide si se <strong>incluye</strong> la fila “Perú” (promedio nacional). Salvo que tu salida requiera explícitamente a “Perú”, es razonable mantener el valor por defecto (excluido) para centrar la lectura en las <strong>regiones</strong>.</p>
</section>
<section id="parámetros" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="parámetros"><span class="header-section-number">4.1.2</span> <strong>Parámetros</strong></h3>
<p>A la hora de utilizar general_tabla(), las decisiones principales son: (i) qué <strong>ediciones</strong> se desean en columnas, (ii) qué <strong>universo de regiones</strong> se incluye (todas, subconjuntos o grupos), y (iii) si la salida debe ser <strong>tibble</strong> (para análisis) o <strong>gt</strong> (para presentación).</p>
<ul>
<li><p><strong>ediciones</strong>: determina las <strong>columnas</strong> de la tabla (una o varias ediciones).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>2019:2025 (rango continuo)</p></li>
<li><p>c(2018, 2020, 2023, 2025) (conjunto específico)</p></li>
<li><p>2025 (una sola edición)</p></li>
<li><p>Reglas defensivas: valores dentro de 2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: controla el <strong>universo</strong> de filas (regiones) a incluir.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (por defecto, todas las regiones)</p></li>
<li><p>c(“Arequipa”, “Cusco”) (por nombre)</p></li>
<li><p>c(“ARE”, “CUS”) (por código)</p></li>
<li><p><strong>Grupos</strong> “gr_costa”, “gr_sierra”, “gr_selva” (cuando están disponibles en tu ecosistema)</p></li>
<li><p><strong>Exclusiones</strong> por patrón: “-Lima*”</p></li>
<li><p>Combinaciones: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>gt</strong>: define el <strong>tipo de salida</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto) ⇒ devuelve un tibble</p></li>
<li><p>TRUE ⇒ devuelve un objeto gt con encabezados tipo “Puntaje 2025”, etc.</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="explicación-conceptual"><span class="header-section-number">4.1.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> las ediciones indicadas, <strong>filtra</strong> únicamente el <strong>índice general de portada</strong> (filas cuyo pilar comienza con <em>“Índice de Competitividad Regional”</em>), <strong>incluye o excluye</strong> la fila “Perú” según se solicite y <strong>aplica</strong> el filtrado de regiones con soporte para <strong>grupos</strong> y <strong>exclusiones</strong>.</p>
<p>Luego <strong>prepara</strong> un único valor por combinación region–edicion (redondeo defensivo) y <strong>pivotea</strong> a formato ancho con nombres de columna puntaje_YYYY. En caso de valores duplicados, utiliza una <strong>media</strong> defensiva para consolidar. La salida final es un <strong>tibble</strong> ordenado (por región) o una <strong>tabla gt</strong> con encabezados legibles y formato numérico a <strong>dos decimales</strong>.</p>
</section>
<section id="ejemplos" class="level3" data-number="4.1.4">
<h3 data-number="4.1.4" class="anchored" data-anchor-id="ejemplos"><span class="header-section-number">4.1.4</span> <strong>Ejemplos</strong></h3>
<blockquote class="blockquote">
<p>Se asume el paquete cargado y las dependencias disponibles. Los ejemplos exploran <strong>funcionalidades propias del paquete</strong>: grupos gr_*, exclusiones por patrón, control de la fila “Perú” y salida gt.</p>
</blockquote>
<section id="tabla-simple-para-una-edición-tibble-por-defecto" class="level4" data-number="4.1.4.1">
<h4 data-number="4.1.4.1" class="anchored" data-anchor-id="tabla-simple-para-una-edición-tibble-por-defecto"><span class="header-section-number">4.1.4.1</span> Tabla simple para una edición (tibble por defecto)</h4>
<p><strong>Se desea lo siguiente:</strong> obtener la tabla del <strong>puntaje General</strong> por región para la edición 2025, en formato <strong>tibble</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2025</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">FALSE</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>tab1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   region       puntaje_2025
   &lt;chr&gt;               &lt;dbl&gt;
 1 Amazonas             4.31
 2 Apurímac             5.1 
 3 Arequipa             6.91
 4 Ayacucho             4.85
 5 Cajamarca            4.38
 6 Cusco                5.76
 7 Huancavelica         4.82
 8 Huánuco              4.37
 9 Ica                  6.37
10 Junín                5.22
# ℹ 15 more rows</code></pre>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un tibble con columnas region y puntaje_2025, filas ordenadas alfabéticamente, <strong>sin</strong> la fila “Perú” (por defecto).</p>
</section>
<section id="varias-ediciones-20222025-y-subconjunto-por-grupo-costero" class="level4" data-number="4.1.4.2">
<h4 data-number="4.1.4.2" class="anchored" data-anchor-id="varias-ediciones-20222025-y-subconjunto-por-grupo-costero"><span class="header-section-number">4.1.4.2</span> Varias ediciones (2022–2025) y subconjunto por grupo costero</h4>
<p><strong>Se desea lo siguiente:</strong> comparar el bloque <strong>costero</strong> a través de varias ediciones, manteniendo salida en tibble.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>tab2 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2022</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"gr_costa"</span>,</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">FALSE</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>tab2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 5
   region          puntaje_2022 puntaje_2023 puntaje_2024 puntaje_2025
   &lt;chr&gt;                  &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1 Arequipa                6.48         6.59         6.63         6.91
 2 Ica                     5.97         6            6.3          6.37
 3 La Libertad             5.12         5.02         5.24         5.54
 4 Lambayeque              4.93         5.02         5.21         5.42
 5 Lima Provincias         5.31         5.52         5.63         6.02
 6 Lima*                   6.89         6.81         7.05         7.34
 7 Moquegua                6.95         7.22         7.37         7.38
 8 Piura                   4.52         4.39         4.59         4.88
 9 Tacna                   6.01         6.27         6.29         6.43
10 Tumbes                  4.9          5.05         4.85         5.05
11 Áncash                  4.89         4.93         5.23         5.4 </code></pre>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un tibble con columnas puntaje_2022, …, puntaje_2025 solo para las regiones incluidas en gr_costa, útil para análisis de tendencia tabular.</p>
</section>
<section id="inclusión-de-perú-y-un-patrón-costa" class="level4" data-number="4.1.4.3">
<h4 data-number="4.1.4.3" class="anchored" data-anchor-id="inclusión-de-perú-y-un-patrón-costa"><span class="header-section-number">4.1.4.3</span> Inclusión de “Perú” y un patrón (costa)</h4>
<p><strong>Se desea lo siguiente:</strong> mostrar el <strong>promedio nacional</strong> en la tabla.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>tab3 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"Perú"</span>),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru =</span> <span class="cn">TRUE</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt           =</span> <span class="cn">FALSE</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>tab3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 7
   region       puntaje_2020 puntaje_2021 puntaje_2022 puntaje_2023 puntaje_2024
   &lt;chr&gt;               &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt;
 1 Arequipa             6.93         6.25         6.48         6.59         6.63
 2 Ica                  6.52         5.89         5.97         6            6.3 
 3 La Libertad          5.34         4.94         5.12         5.02         5.24
 4 Lambayeque           5.31         4.99         4.93         5.02         5.21
 5 Lima Provin…         5.34         4.99         5.31         5.52         5.63
 6 Lima*                7.39         6.68         6.89         6.81         7.05
 7 Moquegua             7.1          6.66         6.95         7.22         7.37
 8 Perú                 5.03         4.61         4.79         4.77         5.02
 9 Piura                4.96         4.36         4.52         4.39         4.59
10 Tacna                6.41         6.09         6.01         6.27         6.29
11 Tumbes               5.17         4.51         4.9          5.05         4.85
12 Áncash               5.21         4.73         4.89         4.93         5.23
# ℹ 1 more variable: puntaje_2025 &lt;dbl&gt;</code></pre>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un tibble con la fila “Perú” y las regiones <strong>costeras</strong> excepto las que coincidan con “Lima*”. Útil para contrastar <strong>selección</strong> vs.&nbsp;<strong>promedio país</strong>.</p>
</section>
<section id="salida-gt-con-encabezados-legibles-dos-ediciones-no-contiguas" class="level4" data-number="4.1.4.4">
<h4 data-number="4.1.4.4" class="anchored" data-anchor-id="salida-gt-con-encabezados-legibles-dos-ediciones-no-contiguas"><span class="header-section-number">4.1.4.4</span> Salida gt con encabezados legibles (dos ediciones no contiguas)</h4>
<p><strong>Se desea lo siguiente:</strong> producir una <strong>tabla presentable</strong> para un informe, con dos ediciones específicas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>tab4 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="fu">c</span>(<span class="dv">2021</span>, <span class="dv">2025</span>),</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">TRUE</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="tabl1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un objeto gt con título y subtítulo automáticos, columnas “Puntaje 2021” y “Puntaje 2025” formateadas a <strong>dos decimales</strong>.</p>
</section>
<section id="conjunto-mixto-grupo-regiones-explícitas-y-salida-gt" class="level4" data-number="4.1.4.5">
<h4 data-number="4.1.4.5" class="anchored" data-anchor-id="conjunto-mixto-grupo-regiones-explícitas-y-salida-gt"><span class="header-section-number">4.1.4.5</span> <strong>5) Conjunto mixto (grupo + regiones explícitas) y salida gt</strong></h4>
<p><strong>Se desea lo siguiente:</strong> combinar un <strong>grupo</strong> y <strong>regiones puntuales</strong> en una única tabla de varias ediciones, lista para reporte.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>tab5 <span class="ot">&lt;-</span> <span class="fu">general_tabla</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt        =</span> <span class="cn">TRUE</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="obal.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Una tabla gt con las regiones de gr_sierra <strong>más</strong> Arequipa y La Libertad, y columnas puntaje_2019 … puntaje_2025. Lista para exportar o incorporar en un documento.</p>
</section>
</section>
</section>
<section id="general_barras" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="general_barras"><span class="header-section-number">4.2</span> <strong>general_barras()</strong></h2>
<p><strong>Visualización del puntaje General por región en una edición del INCORE</strong></p>
<section id="introducción-2" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="introducción-2"><span class="header-section-number">4.2.1</span> <strong>Introducción</strong></h3>
<p>La función <code>general_barras()</code> ofrece una representación clara y jerárquica de los puntajes del <strong>Índice de Competitividad Regional (INCORE)</strong> en una edición determinada. Su diseño se centra en el formato de <strong>barras horizontales ordenadas de mayor a menor</strong>, lo que facilita identificar de inmediato las regiones que destacan por su competitividad y aquellas que se encuentran rezagadas. Esta función resulta particularmente valiosa cuando se requiere mostrar un panorama sintético y visualmente contundente del ranking regional, ya sea para fines académicos, informes de política pública o presentaciones institucionales.</p>
<p>En el marco del INCORE, donde cada región obtiene un puntaje entre 0 y 10 , la función permite elegir entre dos aproximaciones: representar el <strong>índice general total</strong>, que resume el desempeño en los seis pilares (Entorno Económico, Laboral, Infraestructura, Salud, Educación e Instituciones), o enfocarse en el <strong>puntaje General de un pilar específico</strong>, con lo cual se resalta una dimensión particular de la competitividad. Esta flexibilidad convierte a general_barras() en una herramienta versátil, adecuada tanto para un primer acercamiento como para análisis más focalizados.</p>
</section>
<section id="parámetros-1" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="parámetros-1"><span class="header-section-number">4.2.2</span> <strong>Parámetros</strong></h3>
<p>La utilización de la función descansa en la combinación de algunos argumentos clave. Cada uno de ellos abre distintas posibilidades de análisis:</p>
<ul>
<li><p><strong>edicion</strong>: corresponde al año de análisis del INCORE. Debe indicarse un valor único dentro del rango de disponibilidad.</p>
<p>Opciones:</p>
<ul>
<li>2016 … 2025</li>
</ul></li>
<li><p><strong>pilar</strong>: define si se grafica el índice general total o el <strong>General</strong> de un pilar específico.</p>
<p>Opciones:</p>
<ul>
<li><p>NULL (por defecto: índice general total)</p></li>
<li><p>“NOMBRE_DEL_PILAR” (ejemplo: “Salud”)</p></li>
<li><p>“CODIGO_PILAR” (ejemplo: “SAL”)</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el conjunto de regiones a mostrar. Se aceptan nombres, códigos o grupos predefinidos.</p>
<p>Opciones:</p>
<ul>
<li><p>“ALL” (por defecto: todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_norte”, “gr_sur”)</p></li>
<li><p>Combinaciones mixtas (ejemplo: c(“gr_norte”, “Lima”, “La Libertad”))</p></li>
</ul></li>
<li><p><strong>paleta</strong>: establece la paleta cualitativa de colores para distinguir regiones.</p>
<p>Opciones:</p>
<ul>
<li><p>“ipe” (por defecto, con la gama institucional del paquete)</p></li>
<li><p>“okabe_ito” (diseñada para accesibilidad visual)</p></li>
<li><p>“viridis” (escala perceptualmente uniforme, útil con muchas categorías)</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: determina si se incluye la leyenda en el gráfico.</p>
<p>Opciones:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE</p></li>
</ul></li>
</ul>
<p>Los parámetros <strong>usar_codigos</strong> e <strong>incluir_peru</strong> son auxiliares: el primero asegura que los códigos regionales o de pilar se traduzcan a nombres oficiales, mientras que el segundo permite incluir el promedio nacional de “Perú” como referencia en el gráfico.</p>
</section>
<section id="explicación-conceptual-1" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="explicación-conceptual-1"><span class="header-section-number">4.2.3</span> <strong>Explicación conceptual</strong></h3>
<p>El proceso interno de la función puede describirse en tres fases:</p>
<ol type="1">
<li><p><strong>Preparación de datos.</strong> Se leen los resultados del INCORE para la edición indicada. Dependiendo de la selección de pilar, se filtra el índice general total o el puntaje General de un pilar específico.</p></li>
<li><p><strong>Ajustes y filtros.</strong> Se excluye “Perú” de manera predeterminada (a menos que se indique lo contrario) y se aplica el filtro de regiones, con soporte para grupos predefinidos. Posteriormente, se consolidan los valores y se asegura que cada región tenga un único puntaje.</p></li>
<li><p><strong>Visualización.</strong> Se construye un gráfico con barras horizontales ordenadas de mayor a menor, etiquetas numéricas con dos decimales y una escala fija entre 0 y 10. El uso de colores diferenciados por región permite reforzar la legibilidad y la comparación.</p></li>
</ol>
<p>La salida final es un objeto ggplot, lo que significa que puede ser modificado, guardado o integrado en flujos de trabajo de visualización más amplios.</p>
</section>
<section id="ejemplos-1" class="level3" data-number="4.2.4">
<h3 data-number="4.2.4" class="anchored" data-anchor-id="ejemplos-1"><span class="header-section-number">4.2.4</span> <strong>Ejemplos</strong></h3>
<section id="visualización-general-de-la-edición-2025" class="level4" data-number="4.2.4.1">
<h4 data-number="4.2.4.1" class="anchored" data-anchor-id="visualización-general-de-la-edición-2025"><span class="header-section-number">4.2.4.1</span> <strong>1) Visualización general de la edición 2025</strong></h4>
<p><strong>Se desea lo siguiente:</strong> generar un ranking completo de las 25 regiones para el índice general total en la edición 2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>graf1 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(<span class="at">edicion =</span> <span class="dv">2025</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>graf1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un gráfico de barras horizontales que muestra a todas las regiones ordenadas por su puntaje total en 2025.</p>
</section>
<section id="enfoque-por-pilar-nombre-con-leyenda-activada" class="level4" data-number="4.2.4.2">
<h4 data-number="4.2.4.2" class="anchored" data-anchor-id="enfoque-por-pilar-nombre-con-leyenda-activada"><span class="header-section-number">4.2.4.2</span> <strong>2) Enfoque por pilar (nombre) con leyenda activada</strong></h4>
<p><strong>Se desea lo siguiente:</strong> explorar el desempeño de las regiones en el pilar de Salud.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>graf2 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar =</span> <span class="st">"Salud"</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>graf2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Ranking regional para el pilar Salud, con la leyenda activada para identificar los colores asociados.</p>
</section>
<section id="subconjunto-de-regiones-grupo-y-nombres" class="level4" data-number="4.2.4.3">
<h4 data-number="4.2.4.3" class="anchored" data-anchor-id="subconjunto-de-regiones-grupo-y-nombres"><span class="header-section-number">4.2.4.3</span> <strong>3) Subconjunto de regiones (grupo y nombres)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> reducir la visualización a un grupo de regiones del norte y dos regiones adicionales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>graf3 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_norte"</span>, <span class="st">"Lima*"</span>, <span class="st">"La Libertad"</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>graf3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un gráfico con solo las regiones especificadas, manteniendo la escala común de 0 a 10.</p>
</section>
<section id="inclusión-de-perú-y-cambio-de-paleta" class="level4" data-number="4.2.4.4">
<h4 data-number="4.2.4.4" class="anchored" data-anchor-id="inclusión-de-perú-y-cambio-de-paleta"><span class="header-section-number">4.2.4.4</span> <strong>4) Inclusión de “Perú” y cambio de paleta</strong></h4>
<p><strong>Se desea lo siguiente:</strong> incluir la referencia nacional y utilizar una paleta perceptualmente uniforme.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>graf4 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar =</span> <span class="st">"Infraestructura"</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru =</span> <span class="cn">TRUE</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta =</span> <span class="st">"viridis"</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>graf4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Ranking del pilar Infraestructura con la fila “Perú” como punto de comparación y colores adaptados a “viridis”.</p>
</section>
<section id="comparación-focalizada-de-regiones-líderes-y-rezagadas" class="level4" data-number="4.2.4.5">
<h4 data-number="4.2.4.5" class="anchored" data-anchor-id="comparación-focalizada-de-regiones-líderes-y-rezagadas"><span class="header-section-number">4.2.4.5</span> <strong>5) Comparación focalizada de regiones líderes y rezagadas</strong></h4>
<p><strong>Se desea lo siguiente:</strong> destacar únicamente sesis regiones del índice general total en 2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>graf5 <span class="ot">&lt;-</span> <span class="fu">general_barras</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Moquegua"</span>, <span class="st">"Lima*"</span>, <span class="st">"Arequipa"</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Loreto"</span>, <span class="st">"Ucayali"</span>, <span class="st">"Puno"</span>),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>graf5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Gráfico con seis barras que permiten comparar visualmente el contraste entre los primeros lugares (Moquegua, Lima*, Arequipa) y los últimos (Loreto, Ucayali, Puno), siguiendo los resultados oficiales del INCORE .</p>
</section>
</section>
</section>
<section id="general_dispersion_pilares" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="general_dispersion_pilares"><span class="header-section-number">4.3</span> <strong>general_dispersion_pilares()</strong></h2>
<p><strong>Dispersión del puntaje General por pilar (una edición)</strong></p>
<p>La función integra la familia de visualizaciones general_* y su objetivo es representar, para una <strong>edición</strong> del INCORE, la <strong>distribución del puntaje General (0–10)</strong> de las regiones <strong>a lo largo de los pilares</strong>. Cada <strong>pilar</strong> constituye el eje <strong>X</strong> y cada <strong>punto</strong> corresponde al puntaje <strong>General</strong> de una <strong>región</strong> en ese pilar. El resultado es una vista <strong>comparativa y transversal</strong>: permite observar, en un mismo gráfico, cómo se “abren” o “cierran” las dispersiones por pilar, dónde se ubica el <strong>promedio nacional</strong> y qué tan heterogéneo es el desempeño por dimensión.</p>
<section id="introducción-3" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="introducción-3"><span class="header-section-number">4.3.1</span> <strong>Introducción</strong></h3>
<p>general_dispersion_pilares() aborda un problema típico en informes comparativos: <strong>entender la variabilidad entre regiones por dimensiones</strong> (pilares) dentro de un mismo año. Mientras que un ranking de barras prioriza el orden, esta función prioriza la <strong>distribución</strong>: ¿en qué pilares existe mayor concentración de regiones en torno a valores similares? ¿Dónde se observan colas más pronunciadas? ¿Cómo se ubican las regiones respecto del <strong>promedio nacional</strong>? La lectura simultánea por pilares facilita detectar <strong>asimetrías</strong>: por ejemplo, un pilar con medias similares pero <strong>dispersión alta</strong> frente a otro con <strong>dispersión baja</strong>, o clusters de regiones que tienden a agruparse en determinados pilares.</p>
</section>
<section id="parámetros-2" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="parámetros-2"><span class="header-section-number">4.3.2</span> <strong>Parámetros</strong></h3>
<p>La lógica de uso parte de una <strong>edición</strong> y, opcionalmente, filtros de <strong>regiones</strong> y <strong>pilares</strong>. Existen además parámetros de <strong>estética</strong> que permiten aclarar la lectura (jitter para separar puntos, estilo del promedio) y una <strong>paleta cualitativa</strong> para distinguir regiones.</p>
<ul>
<li><p><strong>edicion</strong>: fija la <strong>edición (año)</strong> del INCORE a visualizar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo de regiones</strong> a mostrar, admite nombres, códigos, <strong>grupos gr_*</strong>, e <strong>inclusiones/exclusiones</strong> con prefijos como “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (por defecto: todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”) (según los grupos definidos en el paquete)</p></li>
<li><p>Exclusiones: “-Lima*” (ejemplo de patrón para excluir)</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>pilares</strong>: selecciona los <strong>pilares</strong> a incluir, puede mezclar <strong>nombres</strong> y <strong>códigos</strong> (si se cuenta con catálogos activos).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (por defecto: “Entorno económico”, “Laboral”, “Infraestructura”, “Salud”, “Educación”, “Instituciones”)</p></li>
<li><p>Nombres: c(“Salud”, “Educación”)</p></li>
<li><p>Códigos: c(“SAL”, “EDU”)</p></li>
<li><p>Mezcla: c(“SAL”, “Educación”, “INF”)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: paleta <strong>cualitativa</strong> para colorear <strong>por región</strong> (colores consistentes a través de pilares).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto)</p></li>
<li><p>“okabe_ito” (accesible para daltonismo)</p></li>
<li><p>“viridis” (perceptualmente uniforme, recomendable con muchas regiones)</p></li>
</ul></li>
<li><p><strong>mostrar_promedio</strong>: añade un <strong>marcador del promedio nacional</strong> (promedio entre regiones) por <strong>pilar</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE</p></li>
</ul></li>
<li><p><strong>promedio_shape</strong>, <strong>promedio_size</strong>, <strong>promedio_color</strong>, <strong>promedio_fill</strong>: controlan la <strong>estética</strong> del marcador de promedio (forma, tamaño, color de borde y relleno).</p>
<p>Opciones (típicas):</p>
<ul>
<li><p>promedio_shape = 23 (rombo relleno)</p></li>
<li><p>promedio_size = 3.5</p></li>
<li><p>promedio_color = “black”</p></li>
<li><p>promedio_fill = “white”</p></li>
</ul></li>
<li><p><strong>jitter_width</strong>, <strong>jitter_height</strong>: amplitud del <strong>jitter</strong> para <strong>separar</strong> puntos que podrían superponerse vertical u horizontalmente.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>jitter_width = 0.08 (por defecto)</p></li>
<li><p>jitter_height = 0.0 (por defecto)</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> cumple una función operativa secundaria: si es TRUE, habilita la <strong>traducción</strong> de códigos de región/pilar a nombres oficiales mediante los catálogos del paquete, manteniendo consistencia editorial.</p>
</section>
<section id="explicación-conceptual-2" class="level3" data-number="4.3.3">
<h3 data-number="4.3.3" class="anchored" data-anchor-id="explicación-conceptual-2"><span class="header-section-number">4.3.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> los datos de la edición indicada, <strong>filtra</strong> las filas correspondientes al <strong>indicador “General”</strong> de cada <strong>pilar canónico</strong> y <strong>excluye</strong> la fila “Perú” para concentrar el análisis en dispersiones <strong>inter-regionales</strong>. Si se especifican pilares, traduce y filtra según nombres/códigos, si se especifican regiones, resuelve <strong>grupos gr_*</strong> y <strong>exclusiones</strong>. Como salvaguarda, <strong>consolida</strong> un valor por (región, pilar) y prepara una <strong>paleta</strong> cualitativa estable para todas las regiones del subconjunto. La marcación del <strong>promedio nacional</strong> añade un <strong>referente</strong> en cada pilar, útil para identificar pilares por encima/por debajo de la media. La geometría base es un <strong>geom_jitter</strong> con límites fijos <strong>0–10</strong> en y, lo que estandariza la comparación entre pilares y evita interpretaciones sensibles a escalas variables.</p>
</section>
<section id="ejemplos-2" class="level3" data-number="4.3.4">
<h3 data-number="4.3.4" class="anchored" data-anchor-id="ejemplos-2"><span class="header-section-number">4.3.4</span> <strong>Ejemplos</strong></h3>
<section id="dispersión-completa-por-pilares-en-una-edición" class="level4" data-number="4.3.4.1">
<h4 data-number="4.3.4.1" class="anchored" data-anchor-id="dispersión-completa-por-pilares-en-una-edición"><span class="header-section-number">4.3.4.1</span> <strong>1) Dispersión completa por pilares en una edición</strong></h4>
<p><strong>Se desea lo siguiente:</strong> visualizar la dispersión del <strong>puntaje General</strong> de todas las regiones en <strong>todos los pilares</strong> para una edición reciente.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="st">"ALL"</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>p1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Puntos por región en cada pilar, con <strong>promedio nacional</strong> marcado (por defecto). Permite detectar pilares con <strong>dispersión alta/baja</strong> y la posición de la media en cada uno.</p>
</section>
<section id="subconjunto-territorial-con-grupos-y-exclusiones" class="level4" data-number="4.3.4.2">
<h4 data-number="4.3.4.2" class="anchored" data-anchor-id="subconjunto-territorial-con-grupos-y-exclusiones"><span class="header-section-number">4.3.4.2</span> <strong>2) Subconjunto territorial con grupos y exclusiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> revisar la dispersión solo para <strong>costa</strong> y excluir <strong>Lima</strong>* para observar la estructura sin el mayor outlier urbano.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"okabe_ito"</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>p2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión enfocada en la <strong>costa</strong> sin Lima*, coloreada con una paleta accesible para daltonismo. La comparación por pilar revela si, sin Lima*, cambian los pilares con mayor/menor heterogeneidad.</p>
</section>
<section id="selección-de-pilares-por-código" class="level4" data-number="4.3.4.3">
<h4 data-number="4.3.4.3" class="anchored" data-anchor-id="selección-de-pilares-por-código"><span class="header-section-number">4.3.4.3</span> <strong>3) Selección de pilares por código</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar únicamente <strong>Salud</strong> e <strong>Infraestructura</strong> utilizando códigos, manteniendo el promedio visible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>p3 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="fu">c</span>(<span class="st">"SAL"</span>, <span class="st">"INF"</span>),</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">TRUE</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>p3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión centrada en <strong>dos pilares</strong> clave, el <strong>promedio nacional</strong> por pilar facilita contrastar si la mediana subjetiva de los puntos coincide o no con la media trazada.</p>
</section>
<section id="lectura-fina-en-un-bloque-mixto-de-regiones" class="level4" data-number="4.3.4.4">
<h4 data-number="4.3.4.4" class="anchored" data-anchor-id="lectura-fina-en-un-bloque-mixto-de-regiones"><span class="header-section-number">4.3.4.4</span> <strong>4) Lectura fina en un bloque mixto de regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> inspeccionar un <strong>bloque mixto</strong> (grupo + regiones puntuales) y ajustar el <strong>jitter</strong> para separar puntos muy cercanos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>p4 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"Cusco"</span>, <span class="st">"Arequipa"</span>),</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="fu">c</span>(<span class="st">"Educación"</span>, <span class="st">"Instituciones"</span>, <span class="st">"Laboral"</span>),</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter_width  =</span> <span class="fl">0.12</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter_height =</span> <span class="fl">0.02</span>,</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta =</span> <span class="st">"viridis"</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>p4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mejor separación visual de puntos <strong>muy próximos</strong> dentro de los pilares seleccionados, la paleta “viridis” mantiene distinguibilidad cuando hay varias regiones en un mismo rango.</p>
</section>
<section id="vista-focal-con-mezcla-de-nombrescódigos-y-promedio-estilizado" class="level4" data-number="4.3.4.5">
<h4 data-number="4.3.4.5" class="anchored" data-anchor-id="vista-focal-con-mezcla-de-nombrescódigos-y-promedio-estilizado"><span class="header-section-number">4.3.4.5</span> <strong>5) Vista focal con mezcla de nombres/códigos y promedio estilizado</strong></h4>
<p><strong>Se desea lo siguiente:</strong> centrar la lectura en <strong>tres pilares</strong> combinando nombres y códigos, con un <strong>promedio</strong> más visible por forma/tamaño.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>p5 <span class="ot">&lt;-</span> <span class="fu">general_dispersion_pilares</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"La Libertad"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares  =</span> <span class="fu">c</span>(<span class="st">"Salud"</span>, <span class="st">"EDU"</span>, <span class="st">"INF"</span>),</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">TRUE</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_shape =</span> <span class="dv">23</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_size  =</span> <span class="fl">4.2</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_color =</span> <span class="st">"black"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_fill  =</span> <span class="st">"white"</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>p5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión para <strong>Salud</strong>, <strong>Educación</strong> (“EDU”) e <strong>Infraestructura</strong> (“INF”) en un subconjunto que combina <strong>grupo sierra</strong>, una <strong>región específica</strong> y una <strong>exclusión</strong>. El marcador del <strong>promedio</strong> resalta como <strong>referente</strong> por pilar, mejorando la lectura ejecutiva.</p>
</section>
</section>
</section>
<section id="general_distribucion" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="general_distribucion"><span class="header-section-number">4.4</span> <strong>general_distribucion()</strong></h2>
<p><strong>Distribución de puntajes (General o por pilares) en una edición</strong></p>
<p>Orientada a representar la <strong>variabilidad</strong> de los puntajes del INCORE para <strong>una edición</strong> específica. A diferencia de un ranking, que enfatiza el orden, general_distribucion() enfatiza la <strong>distribución</strong>: permite observar <strong>medianas, rangos intercuartílicos, colas y outliers</strong> a través de <strong>boxplots</strong> o <strong>violines</strong>, ya sea sobre el <strong>índice general</strong> (un único eje) o sobre los <strong>seis pilares</strong> simultáneamente (seis ejes).</p>
<section id="introducción-4" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="introducción-4"><span class="header-section-number">4.4.1</span> <strong>Introducción</strong></h3>
<p>El objetivo de general_distribucion() es ofrecer una <strong>lectura estructurada de la dispersión</strong> entre regiones. En contextos donde se requiere comprender <strong>heterogeneidad territorial</strong>, esta visualización ayuda a responder preguntas como: ¿qué tan amplia es la variación entre regiones en cada pilar?, ¿en qué dimensiones los valores se agrupan de forma compacta?, ¿cómo se compara la <strong>media nacional</strong> con la distribución subnacional? La función trabaja <strong>exclusivamente</strong> con filas cuya unidad es Puntaje del 0 al 10 y, de forma consistente con el paquete, usa leer_incore(…, agregar_codigos = TRUE) para asegurar la disponibilidad de <strong>códigos canónicos</strong> de pilar y región cuando correspondan.</p>
</section>
<section id="parámetros-3" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="parámetros-3"><span class="header-section-number">4.4.2</span> <strong>Parámetros</strong></h3>
<p>La estrategia de uso se construye a partir de tres decisiones: (i) <strong>qué eje</strong> se desea mostrar (“general” vs “pilares”), (ii) <strong>qué forma</strong> de distribución se prefiere (“boxplot” vs “violin”), y (iii) <strong>qué subconjunto</strong> de regiones conviene analizar (por grupos, exclusiones o mezcla de códigos/nombres). Sobre ello, se aplican elecciones de <strong>paleta</strong> y elementos de <strong>lectura</strong> como la <strong>línea de promedio</strong> y el <strong>jitter</strong>.</p>
<ul>
<li><p><strong>edicion</strong>: establece la <strong>edición (año)</strong> del INCORE a graficar, es un único valor numérico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>modo</strong>: define si la distribución se visualiza como <strong>un solo eje</strong> (índice general) o <strong>seis ejes</strong> (pilares).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“pilares” (por defecto)</p></li>
<li><p>“general”</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo regional</strong>, admite nombres, códigos, <strong>grupos gr_*</strong>, e <strong>inclusiones/exclusiones</strong> con prefijo “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>tipo</strong>: el <strong>estimador gráfico</strong> de distribución.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“boxplot” (por defecto, resalta mediana y cuartiles)</p></li>
<li><p>“violin” (muestra densidad, útil con muchas observaciones)</p></li>
</ul></li>
<li><p><strong>jitter</strong>: decide si superponer <strong>puntos individuales</strong> para evidenciar masa de datos o outliers locales.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE (añade puntos con alpha suave)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: paleta <strong>discreta</strong> de relleno, en modo = “pilares” se aplica <strong>por pilar</strong>, en modo = “general” el relleno es <strong>único</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“blues” (por defecto)</p></li>
<li><p>“viridis”</p></li>
<li><p>“cividis”</p></li>
</ul></li>
<li><p><strong>linea_promedio</strong>: dibuja una <strong>línea horizontal punteada</strong> en el <strong>promedio nacional</strong> (calculado sobre regiones).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: controla la visibilidad de leyenda (relevante solo en modo = “pilares”).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> cumple un rol operativo (traducción de códigos a nombres oficiales), normalmente se deja en TRUE para mantener consistencia visual y editorial.</p>
</section>
<section id="explicación-conceptual-3" class="level3" data-number="4.4.3">
<h3 data-number="4.4.3" class="anchored" data-anchor-id="explicación-conceptual-3"><span class="header-section-number">4.4.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> los datos de la edición solicitada con <strong>códigos</strong> disponibles, <strong>filtra</strong> a Puntaje del 0 al 10 y aplica, si corresponde, <strong>resolución de grupos</strong> y <strong>exclusiones</strong> de regiones. En modo = “general”, se construye <strong>un único eje</strong> (código GEN) a partir del <strong>índice general</strong>, en modo = “pilares”, se trabaja con los seis <strong>códigos canónicos</strong> (ECO, LAB, INF, SAL, EDU, INS) y <strong>se ordenan</strong> los ejes por una estadística robusta (p.&nbsp;ej., mediana) para favorecer la lectura comparativa. La <strong>línea de promedio</strong> agrega un referente nacional por encima/dentro de la distribución, y la paleta <strong>discreta</strong> garantiza legibilidad por pilar (o un estilo sobrio único en el caso general). La salida es un objeto ggplot con escala <strong>0–10</strong> en el eje vertical, coherente con el resto del paquete.</p>
</section>
<section id="ejemplos-3" class="level3" data-number="4.4.4">
<h3 data-number="4.4.4" class="anchored" data-anchor-id="ejemplos-3"><span class="header-section-number">4.4.4</span> <strong>Ejemplos</strong></h3>
<section id="distribución-por-pilares-con-configuración-por-defecto" class="level4" data-number="4.4.4.1">
<h4 data-number="4.4.4.1" class="anchored" data-anchor-id="distribución-por-pilares-con-configuración-por-defecto"><span class="header-section-number">4.4.4.1</span> <strong>1) Distribución por pilares con configuración por defecto</strong></h4>
<p><strong>Se desea lo siguiente:</strong> visualizar la distribución del <strong>puntaje General</strong> por cada pilar para una edición reciente, sin filtros adicionales.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>g1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Seis ejes (“ECO”,“LAB”,“INF”,“SAL”,“EDU”,“INS”) con <strong>boxplots</strong> (o violines, según tipo) y <strong>línea de promedio</strong> nacional. Permite detectar de inmediato pilares con <strong>dispersión alta</strong> frente a otros más <strong>compactos</strong>.</p>
</section>
<section id="índice-general-un-solo-eje-con-jitter-y-promedio" class="level4" data-number="4.4.4.2">
<h4 data-number="4.4.4.2" class="anchored" data-anchor-id="índice-general-un-solo-eje-con-jitter-y-promedio"><span class="header-section-number">4.4.4.2</span> <strong>2) Índice General (un solo eje) con jitter] y promedio</strong></h4>
<p><strong>Se desea lo siguiente:</strong> observar la <strong>variabilidad nacional</strong> del índice general, con puntos individuales para evidenciar posibles outliers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"general"</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio =</span> <span class="cn">TRUE</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>g2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un eje único etiquetado como “GEN”, el <strong>boxplot</strong> resume la distribución y el <strong>jitter</strong> muestra el posicionamiento puntual de cada región. La <strong>línea de promedio</strong> sirve de referencia global.</p>
</section>
<section id="subconjunto-costero-con-exclusión-de-lima-y-paleta-accesible" class="level4" data-number="4.4.4.3">
<h4 data-number="4.4.4.3" class="anchored" data-anchor-id="subconjunto-costero-con-exclusión-de-lima-y-paleta-accesible"><span class="header-section-number">4.4.4.3</span> <strong>3) Subconjunto costero con exclusión de Lima* y paleta accesible</strong></h4>
<p><strong>Se desea lo siguiente:</strong> analizar la distribución de pilares solo en la <strong>costa</strong>, excluyendo <strong>Lima</strong>*, y mejorar la accesibilidad cromática.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"violin"</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta  =</span> <span class="st">"cividis"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>g3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Seis violines con distribución <strong>sin Lima</strong>* (para evitar que su peso estructural distorsione la lectura). La paleta “cividis” favorece la <strong>distinguibilidad</strong> en proyección e impresión.</p>
</section>
<section id="foco-en-tres-pilares-clave-con-jitter-fino-y-paleta-perceptual" class="level4" data-number="4.4.4.4">
<h4 data-number="4.4.4.4" class="anchored" data-anchor-id="foco-en-tres-pilares-clave-con-jitter-fino-y-paleta-perceptual"><span class="header-section-number">4.4.4.4</span> <strong>4) Foco en tres pilares clave con jitter fino y paleta perceptual</strong></h4>
<p><strong>Se desea lo siguiente:</strong> concentrar la lectura en <strong>Educación</strong>, <strong>Infraestructura</strong> y <strong>Salud</strong> con separación adicional de puntos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta  =</span> <span class="st">"viridis"</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>g4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Boxplots por pilar con <strong>puntos</strong> superpuestos, la paleta “viridis” mantiene <strong>contraste</strong>.</p>
</section>
<section id="comparación-bloque-mixto-grupo-nombres-con-línea-de-promedio-activada" class="level4" data-number="4.4.4.5">
<h4 data-number="4.4.4.5" class="anchored" data-anchor-id="comparación-bloque-mixto-grupo-nombres-con-línea-de-promedio-activada"><span class="header-section-number">4.4.4.5</span> <strong>5) Comparación “bloque mixto” (grupo + nombres) con línea de promedio activada</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar un <strong>bloque mixto</strong> formado por gr_sierra y dos regiones específicas, manteniendo la referencia nacional.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>g5 <span class="ot">&lt;-</span> <span class="fu">general_distribucion</span>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo    =</span> <span class="st">"pilares"</span>,</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo    =</span> <span class="st">"violin"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta  =</span> <span class="st">"blues"</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio =</span> <span class="cn">TRUE</span>,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>g5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Violines por pilar con énfasis en un <strong>bloque heterogéneo</strong> (grupo + regiones puntuales). La <strong>línea de promedio</strong> refuerza la comparación “por encima/por debajo” del referente nacional, útil para mensajes ejecutivos.</p>
</section>
</section>
</section>
<section id="general_heatmap" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="general_heatmap"><span class="header-section-number">4.5</span> <strong>general_heatmap()</strong></h2>
<p><strong>Mapa de calor del puntaje General por región en múltiples ediciones</strong></p>
<section id="introducción-5" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="introducción-5"><span class="header-section-number">4.5.1</span> <strong>Introducción</strong></h3>
<p>general_heatmap() resuelve un problema habitual en el análisis longitudinal: <strong>comparar la evolución del puntaje General (0–10) por región a lo largo de varias ediciones</strong>. La representación en <strong>mapa de calor</strong> condensa, en una sola figura, tres componentes: <strong>regiones</strong> (filas), <strong>ediciones</strong> (columnas) y <strong>magnitud</strong> del puntaje (color). Esta composición facilita detectar <strong>tendencias</strong> (mejoras o retrocesos), <strong>persistencias</strong> (niveles consistentemente altos o bajos) y <strong>rupturas</strong> (cambios bruscos entre ediciones). La función trabaja exclusivamente con filas cuyo pilar <strong>comienza con</strong> “Índice de Competitividad Regional” (es decir, el <strong>índice general</strong>), y excluye “Perú” para conservar el foco comparativo a nivel regional.</p>
</section>
<section id="parámetros-4" class="level3" data-number="4.5.2">
<h3 data-number="4.5.2" class="anchored" data-anchor-id="parámetros-4"><span class="header-section-number">4.5.2</span> <strong>Parámetros</strong></h3>
<p>El uso práctico de general_heatmap() se articula en tres decisiones: (i) <strong>rango de ediciones</strong> a mostrar, (ii) <strong>universo de regiones</strong> (total o subconjunto) y (iii) <strong>orden de las filas</strong> de cara a la lectura. Sobre ello, se elige la <strong>paleta continua</strong> de color, se decide si <strong>anotar valores</strong> en cada celda y si <strong>exhibir la leyenda</strong>.</p>
<ul>
<li><p><strong>ediciones</strong>: define el <strong>conjunto de ediciones</strong> a visualizar, requiere <strong>al menos dos años</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer vector con longitud ≥ 2</p></li>
<li><p>Rangos: 2019:2025</p></li>
<li><p>Discretos: c(2018, 2020, 2022, 2024)</p></li>
</ul></li>
<li><p><strong>regiones</strong>: establece el <strong>universo regional</strong>, admite nombres, códigos y, si el paquete lo dispone, <strong>grupos gr_*</strong> y <strong>exclusiones</strong> por prefijo “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“Lima*”, “Arequipa”, “Cusco”) (nombres o patrones)</p></li>
<li><p>c(“MOQ”, “ARE”, “CUS”) (códigos, si están definidos en catálogos)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”) (grupos predefinidos)</p></li>
<li><p>Exclusiones por patrón: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>ordenar</strong>: especifica el <strong>criterio de orden</strong> de las filas (regiones) para favorecer la lectura comparativa.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ninguno” (orden alfabético)</p></li>
<li><p>“por_ultimo” (según puntaje de la <strong>última</strong> edición del rango)</p></li>
<li><p>“por_promedio” (según <strong>promedio</strong> del puntaje en el rango de ediciones)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: selecciona la <strong>paleta continua</strong> para el mapeo 0–10.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“blues” (por defecto, progresión fría sobria)</p></li>
<li><p>“viridis” (perceptualmente uniforme)</p></li>
<li><p>“cividis” (accesible en proyección e impresión)</p></li>
<li><p>“magma” (contraste alto, útil para resaltar extremos)</p></li>
</ul></li>
<li><p><strong>anotar</strong>: decide si <strong>imprimir el valor</strong> dentro de cada celda.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE (muestra valores con dos decimales)</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: controla la <strong>visibilidad de la leyenda</strong> de colores.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE</p></li>
<li><p>FALSE</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> cumple un rol operativo: cuando es TRUE, traduce códigos de regiones a <strong>nombres oficiales</strong> para mantener consistencia editorial (normalmente se deja activado).</p>
</section>
<section id="explicación-conceptual-4" class="level3" data-number="4.5.3">
<h3 data-number="4.5.3" class="anchored" data-anchor-id="explicación-conceptual-4"><span class="header-section-number">4.5.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> el conjunto de ediciones solicitadas, <strong>filtra</strong> únicamente el <strong>índice general</strong> (descartando el agregado nacional “Perú”), y <strong>consolida</strong> un valor por (región, edición) para garantizar unicidad en cada celda del mapa. Luego <strong>ordena</strong> las filas según el criterio indicado: alfabético, por el valor de la <strong>última edición</strong> (adecuado cuando el interés es la situación más reciente) o por el <strong>promedio</strong> a lo largo del período (útil para lecturas de <strong>desempeño sostenido</strong>). Finalmente aplica una <strong>paleta continua</strong> con límites <strong>0–10</strong> y, si se solicita, <strong>anota</strong> el valor en cada celda, lo que puede ser conveniente en matrices pequeñas o en cortes enfocados.</p>
</section>
<section id="ejemplos-4" class="level3" data-number="4.5.4">
<h3 data-number="4.5.4" class="anchored" data-anchor-id="ejemplos-4"><span class="header-section-number">4.5.4</span> <strong>Ejemplos</strong></h3>
<section id="panorama-básico-por-ediciones-orden-alfabético-paleta-por-defecto" class="level4" data-number="4.5.4.1">
<h4 data-number="4.5.4.1" class="anchored" data-anchor-id="panorama-básico-por-ediciones-orden-alfabético-paleta-por-defecto"><span class="header-section-number">4.5.4.1</span> <strong>1) Panorama básico por ediciones (orden alfabético, paleta por defecto)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> visualizar la evolución 2020–2025 para todas las regiones, priorizando una lectura sobria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>h1 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"ninguno"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"blues"</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>h1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mapa de calor con filas alfabéticas y columnas 2020…2025, la progresión “blues” facilita distinguir niveles sin saturar.</p>
</section>
<section id="enfoque-en-la-foto-más-reciente-orden-por-última-edición" class="level4" data-number="4.5.4.2">
<h4 data-number="4.5.4.2" class="anchored" data-anchor-id="enfoque-en-la-foto-más-reciente-orden-por-última-edición"><span class="header-section-number">4.5.4.2</span> <strong>2) Enfoque en la foto más reciente (orden por última edición)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> ordenar las regiones según su valor en la edición más reciente del rango.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>h2 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_ultimo"</span>,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>h2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas de mayor a menor <strong>según 2025</strong>, útil para destacar posiciones actuales y evaluar trayectorias relativas.</p>
</section>
<section id="subconjunto-con-grupo-y-exclusión-anotando-valores" class="level4" data-number="4.5.4.3">
<h4 data-number="4.5.4.3" class="anchored" data-anchor-id="subconjunto-con-grupo-y-exclusión-anotando-valores"><span class="header-section-number">4.5.4.3</span> <strong>3) Subconjunto con grupo y exclusión (anotando valores)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar solo la <strong>costa</strong> excluyendo <strong>Lima</strong>* y <strong>anotar</strong> los puntajes para un seguimiento fino.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>h3 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2021</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_promedio"</span>,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"cividis"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>h3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas por el <strong>promedio 2021–2025</strong> de la costa <strong>sin Lima</strong>*, con valores impresos en cada celda, la paleta “cividis” favorece la distinguibilidad en proyección.</p>
</section>
<section id="corte-enfocado-con-códigosnombres-y-contraste-alto" class="level4" data-number="4.5.4.4">
<h4 data-number="4.5.4.4" class="anchored" data-anchor-id="corte-enfocado-con-códigosnombres-y-contraste-alto"><span class="header-section-number">4.5.4.4</span> <strong>4) Corte enfocado con códigos/nombres y contraste alto</strong></h4>
<p><strong>Se desea lo siguiente:</strong> mostrar 2022–2025 para un subconjunto mixto (códigos + nombres) con contraste cromático alto.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>h4 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2022</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"MOQ"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>, <span class="st">"Cusco"</span>),</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_ultimo"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"magma"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar    =</span> <span class="cn">FALSE</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>h4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mapa compacto que prioriza la lectura por <strong>última edición</strong> y resalta extremos con “magma”, útil para resúmenes ejecutivos.</p>
</section>
<section id="serie-discontinua-de-ediciones-con-orden-por-promedio" class="level4" data-number="4.5.4.5">
<h4 data-number="4.5.4.5" class="anchored" data-anchor-id="serie-discontinua-de-ediciones-con-orden-por-promedio"><span class="header-section-number">4.5.4.5</span> <strong>5) Serie discontinua de ediciones con orden por promedio</strong></h4>
<p><strong>Se desea lo siguiente:</strong> evaluar un patrón <strong>no anual</strong> (años alternos) y ordenar por <strong>desempeño sostenido</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>h5 <span class="ot">&lt;-</span> <span class="fu">general_heatmap</span>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="fu">c</span>(<span class="dv">2017</span>, <span class="dv">2019</span>, <span class="dv">2021</span>, <span class="dv">2023</span>, <span class="dv">2025</span>),</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar   =</span> <span class="st">"por_promedio"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar    =</span> <span class="cn">FALSE</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>h5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas por el <strong>promedio</strong> en una serie discontinua, lo que ayuda a identificar regiones con <strong>rendimiento consistente</strong> a lo largo del tiempo.</p>
</section>
</section>
</section>
<section id="general_largo" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="general_largo"><span class="header-section-number">4.6</span> <strong>general_largo()</strong></h2>
<p><strong>Evolución del puntaje General (líneas) por región y/o por pilar</strong></p>
<p>Esta función integra la familia de visualizaciones general_* y está diseñada para <strong>series de tiempo</strong> del <strong>puntaje General (0–10)</strong> del INCORE cuando se dispone de <strong>dos o más ediciones</strong>. Ofrece dos enfoques complementarios:</p>
<ul>
<li><p>modo = “general”: una <strong>línea por región</strong> del <strong>índice general</strong> (filas cuyo pilar inicia con “Índice de Competitividad Regional” e indicador == “General”).</p></li>
<li><p>modo = “pilares”: <strong>líneas por región</strong> con <strong>facetado por pilar</strong>, utilizando indicador == “General” en cada pilar.</p></li>
</ul>
<section id="introducción-6" class="level3" data-number="4.6.1">
<h3 data-number="4.6.1" class="anchored" data-anchor-id="introducción-6"><span class="header-section-number">4.6.1</span> <strong>Introducción</strong></h3>
<p>general_largo() resuelve la necesidad de <strong>observar trayectorias</strong>: cómo evolucionan las regiones en el <strong>índice general</strong> o, alternativamente, cómo se mueven <strong>en cada pilar</strong> a lo largo del tiempo. Es especialmente útil para identificar <strong>convergencias</strong> o <strong>divergencias</strong> regionales, <strong>rupturas</strong> (cambios abruptos entre ediciones), <strong>persistencias</strong> (tendencias sostenidas) y <strong>liderazgos</strong> emergentes. En modo = “pilares”, el <strong>facetado</strong> permite comparar, en paralelo, si la historia de una misma región es similar o distinta según el pilar considerado. El eje vertical se mantiene en <strong>0–10</strong> para asegurar comparabilidad, y la estética de color por región preserva la identidad visual en todas las ediciones.</p>
<p>El argumento usar_codigos (secundario) facilita la <strong>traducción de códigos</strong> a nombres oficiales en regiones/pilares para mantener consistencia editorial y legibilidad en etiquetas y leyendas.</p>
</section>
<section id="parámetros-5" class="level3" data-number="4.6.2">
<h3 data-number="4.6.2" class="anchored" data-anchor-id="parámetros-5"><span class="header-section-number">4.6.2</span> <strong>Parámetros</strong></h3>
<p>El uso práctico se apoya en tres decisiones: (i) <strong>rango de ediciones</strong> a estudiar, (ii) <strong>nivel de análisis</strong> (índice general vs.&nbsp;pilares) y (iii) <strong>universo de regiones</strong> (total o subconjunto). Sobre estas, se elige la <strong>paleta</strong> y si conviene <strong>marcar puntos</strong> en las líneas.</p>
<ul>
<li><p><strong>ediciones</strong>: determina las <strong>ediciones (años)</strong> a graficar, requiere <strong>al menos dos</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer vector con longitud ≥ 2</p></li>
<li><p>Rangos: 2020:2025</p></li>
<li><p>Discretos: c(2018, 2020, 2022, 2024)</p></li>
</ul></li>
<li><p><strong>regiones</strong>: define el <strong>universo regional</strong>, admite nombres, códigos, <strong>grupos gr_*</strong> y <strong>exclusiones</strong> con prefijo “-”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>modo</strong>: establece el <strong>nivel de análisis</strong> temporal.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“general” (una línea por región, índice general)</p></li>
<li><p>“pilares” (líneas por región, <strong>facetado</strong> por los seis pilares)</p></li>
</ul></li>
<li><p><strong>pilares</strong> <em>(solo si modo = “pilares”)</em>: restringe el <strong>conjunto de pilares</strong> a graficar, admite <strong>nombres</strong> y <strong>códigos</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>NULL (por defecto: los 6 pilares canónicos)</p></li>
<li><p>Nombres: c(“Salud”, “Infraestructura”, “Educación”)</p></li>
<li><p>Códigos: c(“SAL”, “INF”, “EDU”)</p></li>
<li><p>Mezcla: c(“SAL”, “Educación”, “INF”)</p></li>
</ul></li>
<li><p><strong>paleta</strong>: paleta <strong>cualitativa</strong> para colorear <strong>por región</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto, institucional)</p></li>
<li><p>“okabe_ito” (accesible para daltonismo)</p></li>
<li><p>“viridis” (perceptualmente uniforme)</p></li>
</ul></li>
<li><p><strong>mostrar_puntos</strong>: decide si <strong>marcar puntos</strong> en cada edición sobre las líneas.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-5" class="level3" data-number="4.6.3">
<h3 data-number="4.6.3" class="anchored" data-anchor-id="explicación-conceptual-5"><span class="header-section-number">4.6.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> el conjunto de ediciones solicitado, <strong>filtra</strong> a indicador == “General” y, según el modo, conserva ya sea el <strong>índice general</strong> (pilar agregado de portada) o los <strong>seis pilares canónicos</strong>. Para regiones, resuelve <strong>grupos gr_*</strong> y <strong>exclusiones</strong>. El color asignado <strong>por región</strong> se mantiene consistente entre ediciones, y el eje <strong>0–10</strong> preserva la escala del INCORE.</p>
<p>En modo = “general”, las regiones se <strong>ordenan</strong> tomando la <strong>última edición</strong> del rango (útil para resaltar la situación más reciente en la leyenda y facilitar la lectura de líderes y rezagados). En modo = “pilares”, el <strong>facetado</strong> (facet_wrap) organiza las series en paneles por pilar, lo que permite leer <strong>patrones simultáneos</strong> con un mismo código cromático por región.</p>
</section>
<section id="ejemplos-5" class="level3" data-number="4.6.4">
<h3 data-number="4.6.4" class="anchored" data-anchor-id="ejemplos-5"><span class="header-section-number">4.6.4</span> <strong>Ejemplos</strong></h3>
<blockquote class="blockquote">
<p>Se asume el paquete cargado y dependencias disponibles (ggplot2, etc.). Los ejemplos exploran <strong>características propias del paquete</strong>: grupos gr_*, exclusiones por patrón, mezcla de nombres/códigos de pilar, facetado y elección de paleta.</p>
</blockquote>
<section id="evolución-del-índice-general-para-todas-las-regiones-se-desea-lo-siguiente-visualizar-la-evolución-20192025-del-índice-general-para-el-país-con-puntos-marcados-en-cada-edición." class="level4" data-number="4.6.4.1">
<h4 data-number="4.6.4.1" class="anchored" data-anchor-id="evolución-del-índice-general-para-todas-las-regiones-se-desea-lo-siguiente-visualizar-la-evolución-20192025-del-índice-general-para-el-país-con-puntos-marcados-en-cada-edición."><span class="header-section-number">4.6.4.1</span> <strong>1) Evolución del índice general para todas las regiones Se desea lo siguiente:</strong> visualizar la evolución 2019–2025 del índice general para el país, con puntos marcados en cada edición.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>e1 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"general"</span>,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>e1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Una línea por región (índice general), escala 0–10, puntos visibles y <strong>orden en leyenda</strong> acorde a la <strong>última edición</strong>.</p>
</section>
<section id="pilares-con-facetado-completo-y-paleta-accesible" class="level4" data-number="4.6.4.2">
<h4 data-number="4.6.4.2" class="anchored" data-anchor-id="pilares-con-facetado-completo-y-paleta-accesible"><span class="header-section-number">4.6.4.2</span> <strong>2)Pilares con facetado completo y paleta accesible</strong></h4>
<p><strong>Se desea lo siguiente:</strong> observar trayectorias por pilar (los seis paneles)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>e2 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_selva"</span>),</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"pilares"</span>,</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>e2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Seis paneles (pilares), una línea por región en cada panel.</p>
</section>
<section id="subconjunto-territorial-con-grupo-y-exclusión" class="level4" data-number="4.6.4.3">
<h4 data-number="4.6.4.3" class="anchored" data-anchor-id="subconjunto-territorial-con-grupo-y-exclusión"><span class="header-section-number">4.6.4.3</span> <strong>3) Subconjunto territorial con grupo y exclusión</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar la evolución del índice general solo para la <strong>costa</strong>, <strong>excluyendo Lima</strong>*, con una paleta perceptual robusta.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>e3 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2016</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"general"</span>,</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">FALSE</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>e3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Líneas más claras en el subconjunto costero sin Lima*, con <strong>trazos limpios</strong> (sin puntos) para enfatizar tendencia.</p>
</section>
<section id="pilares-seleccionados-mezclando-nombres-y-códigos" class="level4" data-number="4.6.4.4">
<h4 data-number="4.6.4.4" class="anchored" data-anchor-id="pilares-seleccionados-mezclando-nombres-y-códigos"><span class="header-section-number">4.6.4.4</span> <strong>4)Pilares seleccionados mezclando nombres y códigos</strong></h4>
<p><strong>Se desea lo siguiente:</strong> analizar solo <strong>Salud</strong>, <strong>Infraestructura</strong> y <strong>Educación</strong> combinando nombres y códigos de pilar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>e4 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"pilares"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilares   =</span> <span class="fu">c</span>(<span class="st">"SAL"</span>, <span class="st">"Infraestructura"</span>, <span class="st">"EDU"</span>),</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>e4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Facetado con <strong>tres paneles</strong> (Salud, Infraestructura, Educación), respetando el color por región e identificando <strong>contrastes</strong> en la dinámica por dimensión.</p>
</section>
<section id="serie-discontinua-y-bloque-mixto-de-regiones" class="level4" data-number="4.6.4.5">
<h4 data-number="4.6.4.5" class="anchored" data-anchor-id="serie-discontinua-y-bloque-mixto-de-regiones"><span class="header-section-number">4.6.4.5</span> <strong>5) Serie discontinua y bloque mixto de regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> estudiar un patrón <strong>no anual</strong> (ediciones alternas) y centrarse en un <strong>bloque mixto</strong> de regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>e5 <span class="ot">&lt;-</span> <span class="fu">general_largo</span>(</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="fu">c</span>(<span class="dv">2016</span>, <span class="dv">2018</span>, <span class="dv">2020</span>, <span class="dv">2022</span>, <span class="dv">2024</span>),</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo      =</span> <span class="st">"general"</span>,</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>e5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Evolución en <strong>años alternos</strong> para un conjunto formado por <strong>grupo</strong> + <strong>regiones puntuales</strong>, los puntos facilitan comparar niveles en las ediciones muestreadas.</p>
<p>Perfecto. Aquí tienes el texto <strong>detallado, narrativo y didáctico</strong> para tu manual sobre <strong>general_mapa()</strong>, con los <strong>parámetros clave en viñetas</strong> (todas las opciones y valores envueltos en ``) y <strong>5 ejemplos</strong> claros que exploran funcionalidades propias del paquete (grupos gr_*, exclusiones con `”-”`, zoom a subconjuntos, etiquetas y paletas continuas/divergentes). Mantengo `usar_codigos` como argumento secundario.</p>
</section>
</section>
</section>
<section id="general_mapa" class="level2" data-number="4.7">
<h2 data-number="4.7" class="anchored" data-anchor-id="general_mapa"><span class="header-section-number">4.7</span> <strong>general_mapa()</strong></h2>
<p><strong>Mapa coroplético del puntaje General por región (una edición)</strong></p>
<section id="introducción-7" class="level3" data-number="4.7.1">
<h3 data-number="4.7.1" class="anchored" data-anchor-id="introducción-7"><span class="header-section-number">4.7.1</span> <strong>Introducción</strong></h3>
<p>general_mapa() resuelve la necesidad de <strong>ubicar espacialmente</strong> los resultados del <strong>Índice de Competitividad Regional (INCORE)</strong> en <strong>una edición</strong> específica. A diferencia de un ranking o una dispersión, el coroplético prioriza la <strong>lectura territorial</strong>: permite reconocer <strong>patrones geográficos</strong> (continuidades, gradientes, contrastes) y detectar <strong>bolsones de alto o bajo desempeño</strong>. La función colorea cada región según su <strong>puntaje General (0–10)</strong> y utiliza exclusivamente filas cuyo pilar <strong>comienza con</strong> “Índice de Competitividad Regional”, garantizando que se represente el <strong>índice general</strong> y no un pilar. El subtítulo fija el contexto temporal con “Puntaje General (YYYY)”, reforzando la idea de <strong>corte temporal</strong>.</p>
<p>Se debe cargar primero el mapa:</p>
</section>
<section id="parámetros-6" class="level3" data-number="4.7.2">
<h3 data-number="4.7.2" class="anchored" data-anchor-id="parámetros-6"><span class="header-section-number">4.7.2</span> <strong>Parámetros</strong></h3>
<p>El uso práctico combina tres decisiones: (i) <strong>qué edición</strong> se desea mostrar, (ii) <strong>qué regiones</strong> incluir (todas o un subconjunto, con soporte a <strong>grupos</strong> y <strong>exclusiones</strong>), y (iii) <strong>cómo</strong> presentar la figura (paleta, etiquetas, y <strong>zoom</strong> opcional sobre un subconjunto). Si no se proporciona un objeto espacial, la función construye uno adecuado para el Perú.</p>
<ul>
<li><p><strong>edicion</strong>: fija la <strong>edición (año)</strong> a representar, debe ser un único valor numérico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo de regiones</strong>, admite nombres, códigos, <strong>grupos gr_*</strong> e <strong>inclusiones/exclusiones</strong> por patrón.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Combinaciones mixtas: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>mapa_sf</strong>: objeto espacial con columnas “region” y “geometry”.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>NULL (por defecto, se crea con mapa_peru())</p></li>
<li><p>sf o SpatVector convertible a sf con st_as_sf()</p></li>
</ul></li>
<li><p><strong>paleta</strong>: controla la <strong>escala continua</strong> de color (0–10).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“blues” (por defecto, progresión fría sobria)</p></li>
<li><p>“greens” (alternativa sobria en verdes)</p></li>
<li><p>“viridis” (perceptualmente uniforme)</p></li>
<li><p>“cividis” (robusta en proyección e impresión)</p></li>
<li><p>“divergente” (bicolor con punto medio en 5, útil para “por encima/por debajo”)</p></li>
</ul></li>
<li><p><strong>simplificar</strong>: tolerancia de <strong>simplificación geométrica</strong> (al crear mapa_peru()) para aligerar el dibujo.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>0 (sin simplificar, por defecto)</p></li>
<li><p>&gt; 0 (mayores valores ⇒ geometrías más simples)</p></li>
</ul></li>
<li><p><strong>zoom</strong>: decide si <strong>recortar la vista</strong> al <em>bounding box</em> del subconjunto <strong>seleccionado</strong> en regiones.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto, vista nacional)</p></li>
<li><p>TRUE (activa zoom si regiones ≠ “ALL”)</p></li>
</ul></li>
<li><p><strong>expand_zoom</strong>: margen <strong>proporcional</strong> alrededor del <em>bounding box</em> cuando zoom = TRUE.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>0.04 (por defecto)</p></li>
<li><p>0 … 0.2 (aprox., según preferencia de encuadre)</p></li>
</ul></li>
<li><p><strong>etiquetas</strong>: controla cómo <strong>anotar los valores</strong> dentro de cada región.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“repel” (por defecto, usa ggrepel si está disponible)</p></li>
<li><p>“texto” (etiquetas directas con geom_text)</p></li>
<li><p>“ninguna” (sin etiquetas internas)</p></li>
</ul></li>
</ul>
<p>El parámetro <strong>usar_codigos</strong> es operativo: cuando es TRUE, la función <strong>traduce códigos</strong> a nombres oficiales para mantener consistencia editorial en el mapa y las etiquetas. Mantenerlo activado suele ser lo más conveniente.</p>
</section>
<section id="explicación-conceptual-6" class="level3" data-number="4.7.3">
<h3 data-number="4.7.3" class="anchored" data-anchor-id="explicación-conceptual-6"><span class="header-section-number">4.7.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> la edición solicitada, <strong>filtra</strong> únicamente el <strong>índice general</strong> (excluyendo “Perú” para conservar el foco subnacional) y, si se especificó regiones, <strong>expande grupos</strong> gr_* y <strong>aplica exclusiones</strong>. Antes de mapear, <strong>consolida</strong> un único valor por región (promedio defensivo y redondeo), y <strong>une</strong> los datos al objeto espacial. Cuando se establece un subconjunto, el resto de regiones quedan con <strong>NA</strong> y se dibujan en <strong>gris</strong> para no inducir comparaciones donde no hay dato mostrado. La <strong>paleta continua</strong> fija los límites en <strong>0–10</strong>, y las <strong>etiquetas</strong> (si se activan) se colocan sobre puntos internos de cada polígono, favoreciendo la legibilidad. El <strong>zoom opcional</strong> centra la vista en el subconjunto, con un margen expand_zoom para evitar recortes visuales.</p>
</section>
<section id="ejemplos-6" class="level3" data-number="4.7.4">
<h3 data-number="4.7.4" class="anchored" data-anchor-id="ejemplos-6"><span class="header-section-number">4.7.4</span> <strong>Ejemplos</strong></h3>
<section id="mapa-nacional-básico-paleta-por-defecto" class="level4" data-number="4.7.4.1">
<h4 data-number="4.7.4.1" class="anchored" data-anchor-id="mapa-nacional-básico-paleta-por-defecto"><span class="header-section-number">4.7.4.1</span> <strong>1) Mapa nacional básico (paleta por defecto)</strong></h4>
</section>
<section id="se-desea-lo-siguiente-representar-el-índice-general-en-una-edición-reciente-para-todas-las-regiones." class="level4" data-number="4.7.4.2">
<h4 data-number="4.7.4.2" class="anchored" data-anchor-id="se-desea-lo-siguiente-representar-el-índice-general-en-una-edición-reciente-para-todas-las-regiones."><span class="header-section-number">4.7.4.2</span> <strong>Se desea lo siguiente:</strong> representar el <strong>índice general</strong> en una edición reciente para <strong>todas</strong> las regiones.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"blues"</span>,</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"repel"</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>m1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Coroplético nacional 0–10.</p>
</section>
<section id="subconjunto-por-grupo-con-zoom-automático" class="level4" data-number="4.7.4.3">
<h4 data-number="4.7.4.3" class="anchored" data-anchor-id="subconjunto-por-grupo-con-zoom-automático"><span class="header-section-number">4.7.4.3</span> <strong>2) Subconjunto por grupo con zoom automático</strong></h4>
<p><strong>Se desea lo siguiente:</strong> concentrar la lectura en <strong>costa</strong>, con recorte automático del encuadre.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>),</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom      =</span> <span class="cn">TRUE</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">expand_zoom =</span> <span class="fl">0.05</span>,</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"repel"</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>m2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Vista recortada a la <strong>costa</strong>, paleta “viridis” y etiquetas repel que evitan solapamientos.</p>
</section>
<section id="subconjunto-mixto-con-exclusión-y-etiquetas-simples" class="level4" data-number="4.7.4.4">
<h4 data-number="4.7.4.4" class="anchored" data-anchor-id="subconjunto-mixto-con-exclusión-y-etiquetas-simples"><span class="header-section-number">4.7.4.4</span> <strong>3) Subconjunto mixto con exclusión y etiquetas simples</strong></h4>
<p><strong>Se desea lo siguiente:</strong> mostrar un bloque mixto (grupo + regiones puntuales) <strong>excluyendo Lima</strong>* y usar etiquetas simples.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>m3 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"cividis"</span>,</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom      =</span> <span class="cn">TRUE</span>,</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"texto"</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>m3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Coroplético del subconjunto, <strong>sin Lima</strong>*, con etiquetas directas y encuadre ajustado al bloque.</p>
</section>
<section id="paleta-divergente-para-lectura-por-encima-por-debajo" class="level4" data-number="4.7.4.5">
<h4 data-number="4.7.4.5" class="anchored" data-anchor-id="paleta-divergente-para-lectura-por-encima-por-debajo"><span class="header-section-number">4.7.4.5</span> <strong>4) Paleta divergente para lectura “por encima / por debajo”</strong></h4>
<p><strong>Se desea lo siguiente:</strong> enfatizar si las regiones están por <strong>encima</strong> o <strong>debajo</strong> de un punto medio (5).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>m4 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"divergente"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"ninguna"</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>m4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Paleta bicolor con <strong>midpoint = 5</strong>: útil para lecturas rápidas tipo “alto/bajo” respecto de un umbral simbólico.</p>
</section>
<section id="mapa-ligero-para-informes-simplificación-geométrica" class="level4" data-number="4.7.4.6">
<h4 data-number="4.7.4.6" class="anchored" data-anchor-id="mapa-ligero-para-informes-simplificación-geométrica"><span class="header-section-number">4.7.4.6</span> <strong>5) Mapa ligero para informes: simplificación geométrica</strong></h4>
<p><strong>Se desea lo siguiente:</strong> mapa de la región sur</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>m5 <span class="ot">&lt;-</span> <span class="fu">general_mapa</span>(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion     =</span> <span class="dv">2025</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="st">"gr_sur"</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta      =</span> <span class="st">"greens"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">simplificar =</span> <span class="fl">0.02</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas   =</span> <span class="st">"repel"</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom =</span> T</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>m5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="general_media" class="level2" data-number="4.8">
<h2 data-number="4.8" class="anchored" data-anchor-id="general_media"><span class="header-section-number">4.8</span> <strong>general_media()</strong></h2>
<p><strong>Dispersión del puntaje General (total o de un pilar) frente a un promedio</strong></p>
<p>Su foco es mostrar, en <strong>una edición</strong> del INCORE, cómo se sitúan las <strong>regiones</strong> frente a un <strong>promedio de referencia</strong>. El gráfico representa, en el eje <strong>X</strong>, el <strong>puntaje General (0–10)</strong> y, en el eje <strong>Y</strong>, las <strong>regiones</strong>. Cada región incluye: (i) una <strong>línea</strong> que va desde el <strong>promedio</strong> hasta su valor y (ii) un <strong>punto</strong> en el valor observado, más una <strong>etiqueta</strong> numérica. La referencia central puede ser el <strong>promedio nacional</strong> (todas las regiones) o el <strong>promedio de la selección</strong> (solo las regiones filtradas para el gráfico).</p>
<section id="introducción-8" class="level3" data-number="4.8.1">
<h3 data-number="4.8.1" class="anchored" data-anchor-id="introducción-8"><span class="header-section-number">4.8.1</span> <strong>Introducción</strong></h3>
<p>general_media() resuelve un problema recurrente en la comunicación de resultados: <strong>ubicar a cada región respecto de un promedio</strong> de referencia. Mientras un ranking ordena, este diseño enfatiza la <strong>distancia a la media</strong> (y su dirección), permitiendo responder preguntas como: ¿qué regiones están <strong>por encima</strong> del promedio y cuáles <strong>por debajo</strong>?, ¿cuán lejos se encuentran?, ¿existe un bloque de regiones en torno al promedio? La función admite trabajar con el <strong>índice general total</strong> o con el <strong>General de un pilar</strong> específico, y ofrece <strong>cinco esquemas de color</strong> que refuerzan diferentes lecturas (binaria, continua divergente, bandas tipo “semáforo”, color por región, o monocromo).</p>
</section>
<section id="parámetros-7" class="level3" data-number="4.8.2">
<h3 data-number="4.8.2" class="anchored" data-anchor-id="parámetros-7"><span class="header-section-number">4.8.2</span> <strong>Parámetros</strong></h3>
<p>La práctica con general_media() descansa en tres decisiones: (i) <strong>qué se grafica</strong> (general total vs.&nbsp;un pilar), (ii) <strong>qué universo regional</strong> se considera (todas o un subconjunto) y (iii) <strong>qué promedio</strong> funge como referente (nacional vs.&nbsp;selección). Sobre eso, se elige el <strong>esquema de color</strong> que mejor sirva el mensaje.</p>
<ul>
<li><p><strong>edicion</strong>: fija la <strong>edición (año)</strong> a graficar, un único valor numérico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>2016 … 2025</p></li>
</ul></li>
<li><p><strong>pilar</strong>: determina el <strong>contenido</strong> a graficar: <strong>índice general total</strong> o <strong>General de un pilar</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>NULL (por defecto, índice general total, filas cuyo pilar inicia con “Índice de Competitividad Regional”)</p></li>
<li><p>Nombre de pilar: “Salud”, “Educación”, “Infraestructura”, etc.</p></li>
<li><p>Código de pilar: “SAL”, “EDU”, “INF”, etc.</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el <strong>universo de regiones</strong> a representar, admite nombres, códigos, <strong>grupos gr_*</strong> e <strong>inclusiones/exclusiones</strong> por patrón.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ALL” (todas las regiones)</p></li>
<li><p>c(“REGION1”, “REGION2”)</p></li>
<li><p>c(“COD1”, “COD2”)</p></li>
<li><p>c(“gr_costa”, “gr_sierra”, “gr_selva”)</p></li>
<li><p>Exclusiones: “-Lima*”</p></li>
<li><p>Mezcla: c(“gr_costa”, “La Libertad”, “-Lima*”)</p></li>
</ul></li>
<li><p><strong>promedio_nacional</strong>: define el <strong>promedio de referencia</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto, promedio sobre la <strong>selección filtrada</strong>)</p></li>
<li><p>TRUE (promedio <strong>nacional</strong> calculado sobre <strong>todas</strong> las regiones disponibles en la edición)</p></li>
</ul></li>
<li><p><strong>esquema</strong>: elige el <strong>enfoque cromático</strong> del gráfico.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“binario”: dos colores según valor &gt;= promedio vs.&nbsp;&lt; promedio</p></li>
<li><p>“divergente”: gradiente centrado en 0 sobre la diferencia valor - promedio</p></li>
<li><p>“semaforo”: tres bandas (bajo, en torno, alto) con tolerancia interna</p></li>
<li><p>“region”: color <strong>por región</strong> (paletas cualitativas)</p></li>
<li><p>“monocromo”: un solo color para todo el trazo/punto</p></li>
</ul></li>
<li><p><strong>color_arriba</strong>, <strong>color_abajo</strong>: colores para “binario” (y extremos en “divergente”).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>color_arriba = “##2C7FB8”, color_abajo = “##D7301F” (por defecto)</p></li>
<li><p>Cualquier color válido en R (hex, nombre, etc.)</p></li>
</ul></li>
<li><p><strong>paleta_region</strong> <em>(cuando esquema = “region”)</em>: paleta cualitativa para <strong>regiones</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto)</p></li>
<li><p>“okabe_ito”</p></li>
<li><p>“viridis”</p></li>
</ul></li>
<li><p><strong>color_mono</strong> <em>(cuando esquema = “monocromo”)</em>: color único para segmentos y puntos.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“##3B5B92” (por defecto)</p></li>
<li><p>Cualquier color válido</p></li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: controla si se muestra <strong>leyenda</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>FALSE (por defecto)</p></li>
<li><p>TRUE (relevante sobre todo para “binario”, “divergente”, “semaforo” y “region”)</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-7" class="level3" data-number="4.8.3">
<h3 data-number="4.8.3" class="anchored" data-anchor-id="explicación-conceptual-7"><span class="header-section-number">4.8.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> la edición solicitada, <strong>filtra</strong> a Puntaje del 0 al 10 y, si se especifica pilar, restringe a indicador == “General” de ese pilar, si pilar = NULL, toma el <strong>índice general total</strong>. Para regiones, resuelve <strong>grupos gr_*</strong> y <strong>exclusiones</strong>. Calcula luego un único valor por región (promedio defensivo y redondeo) y determina el <strong>promedio de referencia</strong>: <strong>nacional</strong> (si promedio_nacional = TRUE) o de la <strong>selección</strong> filtrada (por defecto).</p>
<p>El gráfico traza una <strong>línea horizontal</strong> por región, con origen en el <strong>promedio</strong> y destino en su <strong>valor</strong>, y un <strong>punto</strong> en el valor. La <strong>anotación</strong> numérica se desplaza levemente para evitar solapes y mejorar la legibilidad. La paleta elegida en esquema guía la lectura: <strong>comparación binaria</strong>, <strong>gradiente divergente</strong>, <strong>bandas semafóricas</strong>, <strong>identidad por región</strong> o <strong>sobriedad monocroma</strong>.</p>
</section>
<section id="ejemplos-7" class="level3" data-number="4.8.4">
<h3 data-number="4.8.4" class="anchored" data-anchor-id="ejemplos-7"><span class="header-section-number">4.8.4</span> <strong>Ejemplos</strong></h3>
<section id="índice-general-con-esquema-binario-promedio-de-la-selección" class="level4" data-number="4.8.4.1">
<h4 data-number="4.8.4.1" class="anchored" data-anchor-id="índice-general-con-esquema-binario-promedio-de-la-selección"><span class="header-section-number">4.8.4.1</span> <strong>1) Índice General con esquema binario (promedio de la selección)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar las regiones frente al <strong>promedio de la selección</strong> (todas, porque no se filtra) usando dos colores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="cn">NULL</span>,          <span class="do">## índice general total</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"binario"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>g1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dos clases: <strong>por encima</strong> (o igual) vs.&nbsp;<strong>por debajo</strong> del promedio de la selección. Útil para una lectura ejecutiva rápida.</p>
</section>
<section id="pilar-salud-con-esquema-divergente-promedio-nacional" class="level4" data-number="4.8.4.2">
<h4 data-number="4.8.4.2" class="anchored" data-anchor-id="pilar-salud-con-esquema-divergente-promedio-nacional"><span class="header-section-number">4.8.4.2</span> <strong>2) Pilar Salud con esquema divergente (promedio nacional)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> visualizar la <strong>distancia al promedio nacional</strong> en el pilar Salud, con gradiente continuo centrado en 0.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="st">"SAL"</span>,         </span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"ALL"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"divergente"</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>g2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Colores fríos para <strong>sobre</strong> el promedio nacional, cálidos para <strong>bajo</strong> el promedio, la leyenda cuantifica la <strong>diferencia</strong>.</p>
</section>
<section id="subconjunto-costero-sin-lima-esquema-semaforo" class="level4" data-number="4.8.4.3">
<h4 data-number="4.8.4.3" class="anchored" data-anchor-id="subconjunto-costero-sin-lima-esquema-semaforo"><span class="header-section-number">4.8.4.3</span> <strong>3) Subconjunto costero sin Lima *, esquema semaforo</strong></h4>
<p><strong>Se desea lo siguiente:</strong> enfocar en la <strong>costa</strong>, excluir <strong>Lima</strong>* y clasificar en <strong>bajo/en torno/alto</strong> respecto del promedio <strong>de la selección</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="cn">NULL</span>,                         </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">FALSE</span>,                </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"semaforo"</span>,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>g3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres bandas con tolerancia interna, útil para audiencias que prefieren umbrales cualitativos claros.</p>
</section>
<section id="color-por-región-pilar-infraestructura-y-paleta-accesible" class="level4" data-number="4.8.4.4">
<h4 data-number="4.8.4.4" class="anchored" data-anchor-id="color-por-región-pilar-infraestructura-y-paleta-accesible"><span class="header-section-number">4.8.4.4</span> <strong>4) Color por región (pilar Infraestructura) y paleta accesible</strong></h4>
<p><strong>Se desea lo siguiente:</strong> resaltar la <strong>identidad</strong> de cada región con una paleta cualitativa accesible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="st">"INF"</span>,      </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"gr_norte"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"region"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta_region =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>g4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Una entrada por región con su color propio, manteniendo la referencia del <strong>promedio nacional</strong> y la comparabilidad 0–10.</p>
</section>
</section>
<section id="diseño-monocromo" class="level3" data-number="4.8.5">
<h3 data-number="4.8.5" class="anchored" data-anchor-id="diseño-monocromo"><span class="header-section-number">4.8.5</span> <strong>5) Diseño monocromo</strong></h3>
<p><strong>Se desea lo siguiente:</strong> un gráfico para un bloque mixto de regiones, enfatizando la distancia al promedio <strong>nacional</strong> sin distracción cromática.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>g5 <span class="ot">&lt;-</span> <span class="fu">general_media</span>(</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar   =</span> <span class="fu">c</span>(<span class="st">"Educación"</span>),   <span class="do">## pilar por nombre</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">promedio_nacional =</span> <span class="cn">TRUE</span>,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">esquema =</span> <span class="st">"monocromo"</span>,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_mono =</span> <span class="st">"#3B5B92"</span>,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>g5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Segmentos y puntos en <strong>un color</strong>, la interpretación se centra en la <strong>dirección</strong> y <strong>magnitud</strong> de la diferencia frente al promedio nacional.</p>
<p>Perfecto. Aquí tienes el texto <strong>detallado, narrativo y didáctico</strong> para tu manual sobre <strong>general_radar()</strong>, con los <strong>parámetros clave en viñetas</strong> (todas las opciones y valores envueltos en ``) y <strong>5 ejemplos</strong> claros que exploran funcionalidades propias del paquete (selección automática AUTO3, uso de grupos `gr_*`, control de paleta/alpha, puntos y formato de etiquetas de ejes). Trato `usar_codigos` como argumento secundario, mencionado en la narración.</p>
</section>
</section>
<section id="general_radar" class="level2" data-number="4.9">
<h2 data-number="4.9" class="anchored" data-anchor-id="general_radar"><span class="header-section-number">4.9</span> <strong>general_radar()</strong></h2>
<p><strong>Telaraña del puntaje General por pilares (una edición)</strong></p>
<p>Orientada a representar, en <strong>una edición</strong> del INCORE, la <strong>configuración de puntajes por pilar</strong> (escala 0–10) en un <strong>radar regular</strong> (hexágono). Cada vértice corresponde a uno de los <strong>seis pilares</strong>: Entorno económico, Laboral, Infraestructura, Salud, Educación e Instituciones. La figura admite <strong>comparar varias regiones</strong> superponiendo sus polígonos (lo ideal son <strong>3–6</strong> para una lectura nítida).</p>
<section id="introducción-9" class="level3" data-number="4.9.1">
<h3 data-number="4.9.1" class="anchored" data-anchor-id="introducción-9"><span class="header-section-number">4.9.1</span> <strong>Introducción</strong></h3>
<p><code>general_radar()</code> resuelve la necesidad de <strong>comparar perfiles</strong> de competitividad por pilar entre regiones en un corte temporal único. Mientras un ranking por pilar ordena y un mapa localiza, la telaraña muestra la <strong>forma</strong> del desempeño: regiones con <strong>perfiles equilibrados</strong> (polígonos cercanos a un círculo) frente a otras con <strong>fortalezas</strong> y <strong>debilidades</strong> marcadas (polígonos “deformados” hacia ciertos vértices).</p>
<p>La función puede <strong>seleccionar automáticamente</strong> tres casos representativos (“AUTO3”, por defecto): <strong>bajo</strong>, <strong>medio</strong> y <strong>alto</strong> según el <strong>promedio simple de los seis pilares</strong>. Internamente, obtiene los puntajes con ind_tabla(ediciones = edicion, modo = “pilares”, largo = TRUE) y los proyecta en coordenadas cartesianas para dibujar <strong>lados rectos</strong>, facilitando la comparación visual.</p>
</section>
<section id="parámetros-8" class="level3" data-number="4.9.2">
<h3 data-number="4.9.2" class="anchored" data-anchor-id="parámetros-8"><span class="header-section-number">4.9.2</span> <strong>Parámetros</strong></h3>
<p>Trabajar con general_radar() implica decidir: (i) <strong>qué edición</strong> se dibuja, (ii) <strong>qué regiones</strong> se comparan (automáticas, subconjuntos, grupos), y (iii) <strong>cómo</strong> presentar la figura (paleta, transparencia de relleno, puntos y formato de etiquetas de ejes). A continuación, los argumentos clave con sus opciones.</p>
<ul>
<li><p><strong>edicion</strong>: define la <strong>edición (año)</strong> de la que se tomarán los puntajes por pilar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>integer(1)</p></li>
<li><p>Rango típico del INCORE: 2016 … 2025</p></li>
</ul></li>
<li><p><strong>regiones</strong>: controla <strong>qué regiones</strong> se superponen en el radar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“AUTO3” (por defecto): selección automática de <strong>3</strong> regiones representativas (<strong>bajo/medio/alto</strong>) según el <strong>promedio</strong> de los seis pilares.</p></li>
<li><p>NULL: <strong>todas</strong> las regiones (no recomendado por legibilidad).</p></li>
<li><p>Vector con nombres/códigos: c(“Arequipa”, “Cusco”, “La Libertad”) o c(“ARE”, “CUS”, “LAL”).</p></li>
<li><p>Puede incluir <strong>grupos gr_*</strong> cuando estén disponibles en tu ecosistema (p.&nbsp;ej., “gr_costa”), combinados con regiones puntuales.</p></li>
</ul></li>
<li><p><strong>max_regiones</strong>: establece el <strong>umbral de advertencia</strong> por <strong>legibilidad</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>numeric(1), por defecto 6.</p></li>
<li><p>Si el número de regiones supera este valor, se emite una <strong>advertencia</strong> (no detiene el gráfico).</p></li>
</ul></li>
<li><p><strong>alpha</strong>: controla la <strong>transparencia del relleno</strong> de los polígonos (0–1).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>0.25 (por defecto)</p></li>
<li><p>Valores mayores ⇒ <strong>más opaco</strong>, valores menores ⇒ <strong>más transparente</strong>.</p></li>
</ul></li>
<li><p><strong>paleta</strong>: define la paleta <strong>cualitativa</strong> para colorear <strong>por región</strong>.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“ipe” (por defecto, institucional)</p></li>
<li><p>“okabe_ito” (accesible para daltonismo)</p></li>
<li><p>“viridis” (perceptualmente uniforme, aunque concebida para continuas, también útil aquí por contraste)</p></li>
</ul></li>
<li><p><strong>mostrar_puntos</strong>: decide si <strong>marcar puntos</strong> en los <strong>vértices</strong> de cada polígono (un punto por pilar).</p>
<p>Opciones y formato:</p>
<ul>
<li><p>TRUE (por defecto)</p></li>
<li><p>FALSE (limpia el gráfico cuando hay muchas regiones)</p></li>
</ul></li>
<li><p><strong>etiquetas_pilares</strong>: controla el <strong>formato</strong> de las <strong>etiquetas</strong> en los ejes del radar.</p>
<p>Opciones y formato:</p>
<ul>
<li><p>“corto” (por defecto, quiebres de línea pensados para encajar mejor)</p></li>
<li><p>“largo” (nombres completos en una sola línea)</p></li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-8" class="level3" data-number="4.9.3">
<h3 data-number="4.9.3" class="anchored" data-anchor-id="explicación-conceptual-8"><span class="header-section-number">4.9.3</span> <strong>Explicación conceptual</strong></h3>
<p>La función <strong>lee</strong> los puntajes por pilar de la <strong>edición</strong> indicada (escala 0–10) y establece un <strong>orden canónico</strong> de pilares para la disposición <strong>hexagonal</strong>. Si regiones = “AUTO3”, computa el <strong>promedio de pilares</strong> por región y selecciona automáticamente <strong>tres</strong> casos representativos (mínimo, mediana, máximo). Si se pasa un vector específico (o grupos gr_*), filtra a esas regiones.</p>
<p>Cada pilar se mapea a un <strong>ángulo fijo</strong> del hexágono y el puntaje actúa como <strong>radio</strong>, pero la proyección es a <strong>coordenadas cartesianas</strong> para dibujar <strong>lados rectos</strong>. Se añade una <strong>rejilla</strong> de referencia (por ejemplo, 2–4–6–8–10) y los <strong>ejes</strong> desde el centro a cada vértice con <strong>etiquetas</strong> cortas o largas. La <strong>paleta cualitativa</strong> asigna color por región y el <strong>relleno</strong> con alpha permite ver solapes al comparar.</p>
<p>En la lectura, <strong>polígonos amplios</strong> sugieren <strong>desempeño alto</strong> generalizado, <strong>deformaciones</strong> hacia un vértice indican <strong>fortalezas</strong> específicas, <strong>huecos</strong> o retracciones señalan <strong>áreas a mejorar</strong>. Limitar el número de regiones maximiza la <strong>interpretabilidad</strong>.</p>
</section>
<section id="ejemplos-8" class="level3" data-number="4.9.4">
<h3 data-number="4.9.4" class="anchored" data-anchor-id="ejemplos-8"><span class="header-section-number">4.9.4</span> <strong>Ejemplos</strong></h3>
<section id="selección-automática-de-3-regiones-auto3-configuración-básica" class="level4" data-number="4.9.4.1">
<h4 data-number="4.9.4.1" class="anchored" data-anchor-id="selección-automática-de-3-regiones-auto3-configuración-básica"><span class="header-section-number">4.9.4.1</span> <strong>1) Selección automática de 3 regiones (“AUTO3”) — configuración básica</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar <strong>tres</strong> perfiles representativos (bajo/medio/alto) en la edición 2025 con formato legible por defecto.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>r1 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"ipe"</span>,</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.25</span>,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>r1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Un radar con <strong>tres polígonos</strong>: uno “retraído” (bajo), otro intermedio y otro “expandido” (alto), facilitando la comparación pedagógica.</p>
</section>
<section id="subconjunto-explícito-de-regiones" class="level4" data-number="4.9.4.2">
<h4 data-number="4.9.4.2" class="anchored" data-anchor-id="subconjunto-explícito-de-regiones"><span class="header-section-number">4.9.4.2</span> <strong>2) Subconjunto explícito de regiones</strong></h4>
</section>
<section id="se-desea-lo-siguiente-comparar-tres-regiones-específicas-usando-una-paleta-accesible-y-nombres-completos-en-los-ejes." class="level4" data-number="4.9.4.3">
<h4 data-number="4.9.4.3" class="anchored" data-anchor-id="se-desea-lo-siguiente-comparar-tres-regiones-específicas-usando-una-paleta-accesible-y-nombres-completos-en-los-ejes."><span class="header-section-number">4.9.4.3</span> <strong>Se desea lo siguiente:</strong> comparar <strong>tres</strong> regiones específicas usando una paleta accesible y nombres completos en los ejes.</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>r2 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Cusco"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.30</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"largo"</span></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>r2</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres polígonos con <strong>alto contraste cromático</strong> y ejes con <strong>etiquetas</strong></p>
</section>
<section id="uso-de-grupos-gr-combinación-con-región-puntual-y-mayor-transparencia" class="level4" data-number="4.9.4.4">
<h4 data-number="4.9.4.4" class="anchored" data-anchor-id="uso-de-grupos-gr-combinación-con-región-puntual-y-mayor-transparencia"><span class="header-section-number">4.9.4.4</span> <strong>3) Uso de grupos gr (combinación con región puntual) y mayor transparencia</strong></h4>
<p><strong>Se desea lo siguiente:</strong> contrastar un grupo regional con una región puntual, reduciendo opacidad para ver mejor solapes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>r3 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Arequipa"</span>, <span class="st">"-Lima*"</span>, </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"-Lima Provincias"</span>, <span class="st">"-Ica"</span>, <span class="st">"-Moquegua"</span>),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"viridis"</span>,</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.18</span>,</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>r3</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> El polígono agregado del <strong>grupo</strong> (si tu ecosistema expande gr_costa a sus integrantes y filtra)</p>
</section>
<section id="comparación-ampliada-con-advertencia-de-legibilidad" class="level4" data-number="4.9.4.5">
<h4 data-number="4.9.4.5" class="anchored" data-anchor-id="comparación-ampliada-con-advertencia-de-legibilidad"><span class="header-section-number">4.9.4.5</span> <strong>4) Comparación ampliada con advertencia de legibilidad</strong></h4>
<p><strong>Se desea lo siguiente:</strong> incluir <strong>ocho</strong> regiones (por encima del umbral por defecto) para evaluar la <strong>advertencia</strong> y el comportamiento visual.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>r4 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Cusco"</span>, <span class="st">"La Libertad"</span>,</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Piura"</span>, <span class="st">"Lambayeque"</span>, <span class="st">"Tacna"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"Junín"</span>, <span class="st">"Puno"</span>),</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"ipe"</span>,</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.20</span>,</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">FALSE</span>,   <span class="do">## sin puntos para reducir ruido</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span>     </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in general_radar(edicion = 2025, regiones = c("Arequipa", "Cusco", :
Estás comparando 8 regiones. Para un radar legible, considera ≤ 6 (ideal 3–4).</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>r4</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> El gráfico <strong>se renderiza</strong> y muestra los ocho polígonos, pero aparece una <strong>advertencia</strong> por legibilidad. Se sugiere, para análisis fino, reducir el conjunto o segmentar en dos gráficos.</p>
</section>
</section>
<section id="comparación-focalizada-con-auto3-y-estilo-sin-puntos" class="level3" data-number="4.9.5">
<h3 data-number="4.9.5" class="anchored" data-anchor-id="comparación-focalizada-con-auto3-y-estilo-sin-puntos"><span class="header-section-number">4.9.5</span> <strong>5) Comparación focalizada con AUTO3 y estilo sin puntos</strong></h3>
<p><strong>Se desea lo siguiente:</strong> producir una figura <strong>limpia</strong> (sin puntos) con la selección automática AUTO3, ajustando la transparencia para enfatizar formas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>r5 <span class="ot">&lt;-</span> <span class="fu">general_radar</span>(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion  =</span> <span class="dv">2025</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="st">"AUTO3"</span>,</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"ipe"</span>,</span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha    =</span> <span class="fl">0.35</span>,</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos    =</span> <span class="cn">FALSE</span>,   <span class="do">## limpia vértices para destacar contornos</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_pilares =</span> <span class="st">"corto"</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a>r5</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres polígonos con contornos nítidos y relleno intermedio.</p>
</section>
</section>
</section>
<section id="familia-indc_-y-valor_" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Familia <code>indc_</code> y <code>valor_</code></h1>
<section id="indc_tabla-indicadores-por-pilar-puntajes-010" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="indc_tabla-indicadores-por-pilar-puntajes-010"><span class="header-section-number">5.1</span> <strong>indc_tabla(): indicadores por pilar (puntajes 0–10)</strong></h2>
<section id="descripción-de-parámetros" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="descripción-de-parámetros"><span class="header-section-number">5.1.1</span> <strong>Descripción de parámetros</strong></h3>
<ul>
<li><p>ediciones: vector numérico con una o más ediciones. Acepta formas como 2025 o 2018:2025.</p></li>
<li><p>pilar: cadena con el pilar en <strong>código</strong> (“LAB”) o <strong>nombre</strong> (“Laboral”).</p></li>
<li><p>indicadores: “ALL” (todos los indicadores del pilar, salvo “General”), o un vector de <strong>códigos</strong> (p.&nbsp;ej., “LAB2”) y/o <strong>nombres</strong> (p.&nbsp;ej., “2.2 Formalidad laboral”).</p></li>
<li><p>regiones: “ALL” o vector de <strong>códigos/nombres</strong> y <strong>grupos</strong> (p.&nbsp;ej., “gr_costa”), con <strong>exclusiones</strong> mediante prefijo “-” (p.&nbsp;ej., “-Lima*”).</p></li>
<li><p>usar_codigos: (mencionado) controla traducir códigos ↔︎ nombres en filtros.</p></li>
<li><p>incluir_peru: (mencionado) si se desea mantener la fila <strong>“Perú”</strong>.</p></li>
<li><p>largo: TRUE devuelve <strong>formato largo</strong> (region, edicion, indicador, valor, usando <strong>código</strong> cuando esté disponible), FALSE devuelve <strong>ancho</strong>.</p></li>
<li><p>gt: TRUE produce una tabla <strong>gt</strong> con <em>spanners</em> por edición, FALSE devuelve <strong>tibble</strong>.</p></li>
<li><p>verbose: TRUE imprime mensajes informativos.</p></li>
</ul>
</section>
<section id="explicación-conceptual-9" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="explicación-conceptual-9"><span class="header-section-number">5.1.2</span> <strong>Explicación conceptual</strong></h3>
<p>La función filtra la base por <strong>pilar</strong> y <strong>ediciones</strong>, descarta la fila “Perú” (salvo que se pida), y elimina el indicador <strong>“General”</strong> (a menos que se solicite todo). Luego <strong>promedia</strong> internamente si aparecen duplicados esporádicos y <strong>redondea</strong> a dos decimales. En salida <strong>ancha</strong>, las columnas se nombran como CODIGO_EDICION (por ejemplo, LAB2_2025), si un indicador no tiene código disponible, se genera un nombre limpio a partir del título del indicador.</p>
</section>
<section id="ejemplos-9" class="level3" data-number="5.1.3">
<h3 data-number="5.1.3" class="anchored" data-anchor-id="ejemplos-9"><span class="header-section-number">5.1.3</span> <strong>Ejemplos</strong></h3>
<ol type="1">
<li><strong>Tabla ancha</strong> con todos los indicadores de un pilar en un rango de años</li>
</ol>
<p><strong>Se desea lo siguiente:</strong> obtener, para el pilar LAB, una <strong>tabla por regiones</strong> con dos indicadores en <strong>columnas</strong> para las ediciones <strong>2019–2025</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>tab1 <span class="ot">&lt;-</span> <span class="fu">indc_tabla</span>(</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2020</span>,</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar        =</span> <span class="st">"LAB"</span>,</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores  =</span> <span class="st">"LAB3"</span>,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="st">"ALL"</span>, </span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">largo        =</span> <span class="cn">FALSE</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a>tab1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 3
   region       LAB3_2019 LAB3_2020
   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;
 1 Amazonas          2.27      2.66
 2 Apurímac          2.67      3.52
 3 Arequipa          6.94      7.49
 4 Ayacucho          3.25      3.23
 5 Cajamarca         0.16      1.64
 6 Cusco             4.92      5.31
 7 Huancavelica      2.14      0.77
 8 Huánuco           1.87      2.37
 9 Ica               7.38      8.48
10 Junín             4.05      4.66
# ℹ 15 more rows</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Se espera un tibble con columnas tipo LAB1_2019, LAB1_2020 por región.</p>
</blockquote>
<ol start="2" type="1">
<li><strong>Formato largo</strong> para graficar con ggplot2</li>
</ol>
<p><strong>Se desea lo siguiente:</strong> obtener datos <strong>largos</strong> del pilar ECO en <strong>2025</strong>, listos para facetear por indicador.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>tab_long <span class="ot">&lt;-</span> <span class="fu">indc_tabla</span>(</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2025</span>,</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar        =</span> <span class="st">"ECO"</span>,</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">largo        =</span> <span class="cn">TRUE</span>,</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a>tab_long <span class="sc">|&gt;</span> </span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 4
   region   edicion indicador valor
   &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt;
 1 Amazonas    2025 ECO1       1.28
 2 Amazonas    2025 ECO2       2.52
 3 Amazonas    2025 ECO3       3.78
 4 Amazonas    2025 ECO4       0.45
 5 Amazonas    2025 ECO5       9.11
 6 Amazonas    2025 ECO6       2.88
 7 Amazonas    2025 ECO7       3.84
 8 Apurímac    2025 ECO1       3   
 9 Apurímac    2025 ECO2       2.52
10 Apurímac    2025 ECO3       2.8 </code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Se espera region, edicion, indicador y valor (0–10).</p>
</blockquote>
<ol start="3" type="1">
<li><strong>Selección de indicadores por código y nombre</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> limitar a <strong>tres</strong> indicadores del pilar LAB en <strong>2024–2025</strong> (mezclando código y nombre).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>sel <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"LAB1"</span>, <span class="st">"2.2 Formalidad laboral"</span>, <span class="st">"LAB5"</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>tab_sel <span class="ot">&lt;-</span> <span class="fu">indc_tabla</span>(</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2025</span>,</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar        =</span> <span class="st">"LAB"</span>,</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores  =</span> sel,</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">usar_codigos =</span> <span class="cn">TRUE</span></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a>tab_sel</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 4
   region       LAB1_2025 LAB2_2025 LAB5_2025
   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Amazonas          2.15      3.99      3.12
 2 Apurímac          3.44      3.53      2.81
 3 Arequipa          8.68      7.43     10   
 4 Ayacucho          2.78      0.9       1.47
 5 Cajamarca         3.49      3.4       2.64
 6 Cusco             3.1       4.62      3.99
 7 Huancavelica      1.51      3.38      3.16
 8 Huánuco           2.79      3.8       1.93
 9 Ica               5.7       4.95      7.78
10 Junín             4.21      4.02      5.39
# ℹ 15 more rows</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Se espera una <strong>tabla ancha</strong> únicamente con las columnas de esos <strong>indicadores×edición</strong>.</p>
</blockquote>
<ol start="4" type="1">
<li><strong>Con grupos y exclusiones de regiones</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> incluir <strong>Costa</strong> y <strong>Sierra</strong>, <strong>excluyendo</strong> Lima Metropolitana, para LAB en <strong>2025</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>tab_reg <span class="ot">&lt;-</span> <span class="fu">indc_tabla</span>(</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2025</span>,</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar        =</span> <span class="st">"LAB"</span>,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores  =</span> <span class="fu">c</span>(<span class="st">"LAB4"</span>, <span class="st">"LAB5"</span>, <span class="st">"LAB6"</span>),</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_sierra"</span>, <span class="st">"-Lima*"</span>)</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>tab_reg</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 4
   region          LAB4_2025 LAB5_2025 LAB6_2025
   &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Apurímac             7.03      2.81      7.37
 2 Arequipa             5.85     10         5.89
 3 Ayacucho             6         1.47      7.53
 4 Cajamarca            5.84      2.64      4.82
 5 Cusco                7.24      3.99      8.61
 6 Huancavelica         7.97      3.16      9.31
 7 Huánuco              5         1.93      4.39
 8 Ica                  6.28      7.78      5.93
 9 Junín                7.86      5.39      6.93
10 La Libertad          6.21      5.51      3.5 
11 Lambayeque           4.83      5.42      3.95
12 Lima Provincias      6.08      5.55      4.64
13 Moquegua             5.56      8.99      6.56
14 Pasco                6.15      5.62      4.12
15 Piura                5.83      3.81      3.25
16 Puno                 5.01      3.98      8.69
17 Tacna                3.22      6.46      5.75
18 Tumbes               2.97      4.74      2.56
19 Áncash               5.99      4.55      5.34</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>Se espera una tabla por <strong>regiones filtradas</strong>, Lima* queda excluida.</p>
</blockquote>
<ol start="5" type="1">
<li><strong>Salida gt con spanners por edición</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> una <strong>tabla presentable</strong> para el pilar LAB en <strong>2024–2025</strong>, con encabezados por edición.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>tab_gt <span class="ot">&lt;-</span> <span class="fu">indc_tabla</span>(</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2024</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar        =</span> <span class="st">"LAB"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">gt           =</span> <span class="cn">TRUE</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="trem.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<blockquote class="blockquote">
<p>Se espera una <strong>tabla gt</strong> con <em>spanners</em> por edición y números a 2 decimales.</p>
</blockquote>
<p>¿Así, tal cual, te sirve para pegarlo directo a tu Quarto? Si quieres, armo la subsección de <strong>valores</strong> (valor_tabla) con el mismo patrón.</p>
</section>
</section>
<section id="valor_tabla-valores-originales-por-indicador-con-unidadfuente" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="valor_tabla-valores-originales-por-indicador-con-unidadfuente"><span class="header-section-number">5.2</span> <strong>valor_tabla(): valores originales por indicador (con unidad/fuente)</strong></h2>
<section id="descripción-de-parámetros-1" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="descripción-de-parámetros-1"><span class="header-section-number">5.2.1</span> <strong>Descripción de parámetros</strong></h3>
<ul>
<li><p>ediciones: vector numérico con una o más ediciones. Acepta formas como 2025 o 2018:2025.</p></li>
<li><p>pilar: cadena con el pilar en <strong>código</strong> (“ECO”) o <strong>nombre</strong> (“Entorno económico”).</p></li>
<li><p>indicadores: “ALL” (todos los del pilar) o vector de <strong>códigos/nombres</strong>, admite entradas que <strong>empiezan en número</strong> (p.&nbsp;ej., “3” o “3.1 …”) mapeadas a ECO3 dentro del pilar.</p></li>
<li><p>regiones: “ALL” o vector de <strong>códigos/nombres</strong>, también puede usar <strong>grupos</strong> y <strong>exclusiones</strong> (si los helpers de tu paquete lo permiten en valores).</p></li>
<li><p>usar_codigos: (mencionado) controla traducciones en filtros.</p></li>
<li><p>incluir_peru: (mencionado) si se desea mantener <strong>“Perú”</strong>.</p></li>
<li><p>largo: TRUE devuelve <strong>formato largo</strong> con region, edicion, indicador, valor, unidad, fuente, FALSE devuelve <strong>ancho</strong>.</p></li>
<li><p>gt: TRUE produce <strong>gt</strong> con <em>spanners</em> por edición, FALSE devuelve <strong>tibble</strong>.</p></li>
<li><p>verbose: TRUE imprime mensajes informativos.</p></li>
</ul>
</section>
<section id="explicación-conceptual-10" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="explicación-conceptual-10"><span class="header-section-number">5.2.2</span> <strong>Explicación conceptual</strong></h3>
<p>A diferencia de indc_tabla(), esta función trabaja con <strong>valores originales</strong> (no normalizados a 0–10). Por diseño <strong>excluye</strong> unidad == “Puntaje del 0 al 10”. Resuelve los <strong>indicadores</strong> contra un catálogo (code ↔︎ name), acepta atajos como “3” dentro del pilar (→ ECO3/LAB3 según corresponda), y <strong>promedia</strong> si existen duplicados esporádicos. En salida ancha, las columnas se nombran como CODIGO_EDICION (o un nombre limpio cuando el código no esté disponible). La salida larga conserva <strong>unidad</strong> y <strong>fuente</strong>, lo que resulta útil para rótulos y <em>captions</em> de gráficos.</p>
</section>
<section id="ejemplos-10" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="ejemplos-10"><span class="header-section-number">5.2.3</span> <strong>Ejemplos</strong></h3>
<ol type="1">
<li><strong>Valores anchos para un pilar en múltiples ediciones</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> obtener los <strong>valores (no puntaje)</strong> del pilar <strong>ECO</strong> entre <strong>2020–2025</strong> para <strong>todas</strong> las regiones, en formato ancho.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>val1 <span class="ot">&lt;-</span> <span class="fu">valor_tabla</span>(<span class="at">ediciones =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>, </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">pilar =</span> <span class="st">"ECO"</span>,</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">indicadores =</span> <span class="st">"ECO1"</span>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>val1</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 7
   region       ECO1_2020 ECO1_2021 ECO1_2022 ECO1_2023 ECO1_2024 ECO1_2025
   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Amazonas          3.50      3.48      3.49      3.49      3.49      3.48
 2 Apurímac          3.86      3.81      3.82      3.80      3.83      3.86
 3 Arequipa          4.50      4.42      4.48      4.50      4.50      4.50
 4 Ayacucho          3.77      3.72      3.76      3.78      3.77      3.79
 5 Cajamarca         4.06      4.01      4.06      4.08      4.07      4.08
 6 Cusco             4.34      4.29      4.31      4.33      4.35      4.35
 7 Huancavelica      3.55      3.52      3.54      3.54      3.54      3.59
 8 Huánuco           3.78      3.74      3.78      3.79      3.82      3.84
 9 Ica               4.25      4.19      4.29      4.32      4.32      4.33
10 Junín             4.19      4.14      4.20      4.21      4.20      4.20
# ℹ 15 more rows</code></pre>
</div>
</div>
<p><strong>Se espera:</strong> un tibble por región con columnas tipo ECO3_2020, ECO3_2021, … (una columna por combinación indicador×edición).</p>
<ol start="2" type="1">
<li><strong>Formato largo con unidad y fuente</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> obtener un <strong>dataset largo</strong> del pilar <strong>ECO</strong> en <strong>2025</strong>, listo para anotar <strong>unidades</strong> y <strong>fuentes</strong> en gráficos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>val_long <span class="ot">&lt;-</span> <span class="fu">valor_tabla</span>(<span class="at">ediciones =</span> <span class="dv">2025</span>, </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>                        <span class="at">pilar =</span> <span class="st">"ECO"</span>, </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>                        <span class="at">largo =</span> <span class="cn">TRUE</span>)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(val_long)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  region   edicion indicador                                 valor unidad fuente
  &lt;chr&gt;      &lt;int&gt; &lt;chr&gt;                                     &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt; 
1 Amazonas    2025 1.1 PBI real en logaritmos                 3.48 Millo… INEI.…
2 Amazonas    2025 1.2 Trabajadores en grandes empresas (m…  12.5  Porce… INEI.…
3 Amazonas    2025 1.3 Gasto real pre cápita mensual        799.   Soles… INEI-…
4 Amazonas    2025 1.4 Apertura externa                       5.12 Expor… Adex …
5 Amazonas    2025 1.5 Tenencia de cuentas                   63.8  Porce… INEI-…
6 Amazonas    2025 1.6 Acceso al crédito                     22.1  Porce… SBS. …</code></pre>
</div>
</div>
<p><strong>Se espera:</strong> columnas region, edicion, indicador (código si existe), valor, unidad, fuente.</p>
<ol start="3" type="1">
<li><strong>Selección explícita de indicadores con mezcla de formatos</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> para <strong>ECO</strong> en <strong>2024–2025</strong>, limitarse a los indicadores <strong>ECO3</strong> y <strong>ECO7</strong> usando <strong>gt</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>inds    <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"ECO3"</span>, <span class="st">"ECO7"</span>)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>val_sel <span class="ot">&lt;-</span> <span class="fu">valor_tabla</span>(<span class="at">ediciones    =</span> <span class="dv">2024</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">regiones     =</span> <span class="st">"gr_norte"</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">pilar        =</span> <span class="st">"ECO"</span>, </span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">indicadores  =</span> inds,</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                       <span class="at">gt           =</span> <span class="cn">TRUE</span></span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a>                       )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="tabla.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p><strong>Se espera:</strong> resolución que mapea “3.1 …” a ECO3 (si aplica en el catálogo) y columnas <strong>solo</strong> de los indicadores seleccionados×edición.</p>
<ol start="4" type="1">
<li><strong>Filtrado regional con exclusiones e inclusión de Perú</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> obtener <strong>ECO (2025)</strong> solo para <strong>Costa</strong> y <strong>Macro Norte</strong>, <strong>excluyendo Lima*</strong> e <strong>incluyendo Perú</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>val_reg <span class="ot">&lt;-</span> <span class="fu">valor_tabla</span>(</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones   =</span> <span class="dv">2025</span>,</span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar       =</span> <span class="st">"ECO"</span>,</span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_macro_norte"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru =</span> <span class="cn">TRUE</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>val_reg</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 8
   region  ECO1_2025 ECO2_2025 ECO3_2025 ECO4_2025 ECO5_2025 ECO6_2025 ECO7_2025
   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
 1 Arequi…      4.50      18.3     1074.     42.3       63.9      38.0      25.2
 2 Ica          4.33      23.4     1117.     67.5       62.0      33.5      31.3
 3 La Lib…      4.40      17.4      933.     40.6       52.0      26.8      28.6
 4 Lambay…      4.13      16.1     1038.     15.9       54.5      33.4      30.7
 5 Lima P…      4.28      19.1      871.     18.0       55.7      26.3      36.5
 6 Moqueg…      4.14      25.4     1164.    104.        68.3      35.8      25.7
 7 Piura        4.33      15.9      848.     28.7       50.9      29.7      23.6
 8 Tacna        3.95      15.6      915.     14.5       46.0      34.9      18.5
 9 Tumbes       3.48      15.6      867.      5.71      48.8      30.8      26.6
10 Áncash       4.33      14.7      904.     58.1       49.4      23.9      23.0</code></pre>
</div>
</div>
<p><strong>Se espera:</strong> que aparezca la fila <strong>“Perú”</strong> y se apliquen correctamente los <strong>grupos</strong> y <strong>exclusiones</strong>.</p>
<ol start="5" type="1">
<li><strong>Salida gt con spanners por edición para reporte</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> presentar en un informe los <strong>valores</strong> de <strong>LAB3 (2023–2025)</strong> como <strong>tabla gt</strong> con encabezados por edición.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>val_gt <span class="ot">&lt;-</span> <span class="fu">valor_tabla</span>(<span class="at">ediciones =</span> <span class="dv">2022</span><span class="sc">:</span><span class="dv">2025</span>, </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">pilar =</span> <span class="st">"LAB"</span>, </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">indicadores =</span> <span class="st">"LAB3"</span>,</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">gt =</span> <span class="cn">TRUE</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="vuru.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%" data-fig-pos="H"></p>
</figure>
</div>
</div>
</div>
<p><strong>Se espera:</strong> una <strong>tabla gt</strong> con formateo numérico y <strong>spanners</strong> por edición (“Edición 2023”, “Edición 2024”, “Edición 2025”).</p>
</section>
</section>
<section id="barras-por-región-para-un-indicadorindc_barras-y-para-su-valor-valor_barras" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="barras-por-región-para-un-indicadorindc_barras-y-para-su-valor-valor_barras"><span class="header-section-number">5.3</span> <strong>Barras por región para un indicador(indc_barras) y para su valor (valor_barras)</strong></h2>
<ul>
<li><p>indc_barras() grafica el <strong>puntaje (0–10)</strong> del indicador, coherente con la escala estandarizada del índice.</p></li>
<li><p>valor_barras() grafica el <strong>valor original</strong> del indicador (no estandarizado), mostrando en el eje la <strong>unidad propia</strong> y en el <em>caption</em> la <strong>fuente</strong>.</p></li>
</ul>
<section id="parámetros-9" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="parámetros-9"><span class="header-section-number">5.3.1</span> <strong>Parámetros</strong></h3>
<p>Para un uso práctico y consistente, conviene definir <strong>edición</strong>, <strong>indicador</strong> (por código o nombre) y, cuando sea necesario, el <strong>pilar</strong> para desambiguar. El filtrado por regiones admite <strong>grupos</strong> gr_* y <strong>exclusiones</strong> con prefijo “-”. En ambos casos, usar_codigos (siempre que sea TRUE) facilita traducir códigos a nombres oficiales <strong>antes</strong> del filtrado, incluir_peru añade o no la fila “Perú” (promedio nacional). Estos dos se tratan como secundarios y no aparecen en las viñetas.</p>
</section>
<section id="indc_barras-puntaje-010-de-un-indicador" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="indc_barras-puntaje-010-de-un-indicador"><span class="header-section-number">5.3.2</span> <strong>indc_barras: puntaje (0–10) de un indicador</strong></h3>
<ul>
<li><p>edicion: <strong>edición</strong> a graficar.</p>
<ul>
<li>Opciones válidas: 2016 … 2025 (p.ej., 2025).</li>
</ul></li>
<li><p>pilar: <strong>pilar</strong> al que pertenece el indicador.</p>
<ul>
<li><p>Formatos aceptados: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/…</p></li>
<li><p>Puede omitirse si indicador <strong>identifica unívocamente</strong>.</p></li>
</ul></li>
<li><p>indicador: <strong>indicador</strong> a graficar.</p>
<ul>
<li><p>Formatos aceptados: código (p.ej., “LAB2”) o nombre completo (p.ej., “2.2 Formalidad laboral”).</p></li>
<li><p>Recomendado <strong>especificarlo</strong> para evitar ambigüedades.</p></li>
</ul></li>
<li><p>regiones: universo de <strong>regiones</strong> a incluir.</p>
<ul>
<li><p>“ALL” (todas)</p></li>
<li><p>Listas por nombre/código (p.ej., c(“Arequipa”,“Cusco”) o c(“ARE”,“CUS”))</p></li>
<li><p><strong>Grupos</strong>: “gr_costa”, “gr_sierra”, “gr_selva”</p></li>
<li><p><strong>Exclusiones</strong> por patrón: p.ej., “-Lima*”</p></li>
<li><p>Combinables: c(“gr_costa”,“-Lima*”,“La Libertad”)</p></li>
</ul></li>
<li><p>paleta: esquema de color cualitativo por región.</p>
<ul>
<li>“ipe” (por defecto), “okabe_ito”, “viridis”</li>
</ul></li>
<li><p>mostrar_leyenda: control de la leyenda.</p>
<ul>
<li>FALSE (por defecto) o TRUE</li>
</ul></li>
</ul>
</section>
<section id="valor_barras-valor-original-del-indicador-no-puntaje" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="valor_barras-valor-original-del-indicador-no-puntaje"><span class="header-section-number">5.3.3</span> <strong>valor_barras(): valor original del indicador (no puntaje)</strong></h3>
<ul>
<li><p>edicion: <strong>edición</strong> a graficar.</p>
<ul>
<li>Opciones válidas: 2016 … 2025 (p.ej., 2024).</li>
</ul></li>
<li><p>pilar: <strong>pilar</strong> del indicador (código o nombre).</p>
<ul>
<li>Puede omitirse si indicador <strong>es único</strong> en la edición/filtro.</li>
</ul></li>
<li><p>indicador: <strong>indicador</strong> a graficar.</p>
<ul>
<li><p>Código (p.ej., “ECO7”) o nombre (p.ej., “1.7 Billeteras digitales”).</p></li>
<li><p>El título puede rotularse por <strong>código</strong> o <strong>nombre</strong> con label_indicador.</p></li>
</ul></li>
<li><p>regiones: universo de <strong>regiones</strong> a incluir.</p>
<ul>
<li>“ALL”, listas por nombre/código, <strong>grupos</strong> gr_*, <strong>exclusiones</strong> con “-” (mismos patrones que arriba).</li>
</ul></li>
<li><p>paleta: esquema de color cualitativo por región.</p>
<ul>
<li>“ipe”, “okabe_ito”, “viridis”</li>
</ul></li>
<li><p>mostrar_leyenda: control de la leyenda.</p>
<ul>
<li>FALSE (por defecto) o TRUE</li>
</ul></li>
<li><p>label_indicador: cómo <strong>rotular</strong> el indicador en el título.</p>
<ul>
<li>“nombre” (por defecto) o “cod”</li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-11" class="level3" data-number="5.3.4">
<h3 data-number="5.3.4" class="anchored" data-anchor-id="explicación-conceptual-11"><span class="header-section-number">5.3.4</span> <strong>Explicación conceptual</strong></h3>
<p>Ambas funciones <strong>leen</strong> la edición indicada, <strong>normalizan</strong> cadenas clave y aplican filtros defensivos:</p>
<ul>
<li><p><code>indc_barras()</code> retiene <strong>puntajes 0–10</strong> del indicador seleccionado, consolida a <strong>un valor por región</strong> (promedios defensivos ante duplicados), <strong>ordena</strong> de mayor a menor y <strong>colorea</strong> por región con paletas predefinidas. Es ideal para <strong>ranking</strong> dentro de un indicador concreto.</p></li>
<li><p><code>valor_barras()</code> trabaja con la <strong>magnitud observada</strong> del indicador (no el puntaje), respeta la <strong>unidad</strong> original en el eje y añade la <strong>fuente</strong> como <em>caption</em>, con el mismo enfoque de <strong>consolidación</strong> y <strong>orden</strong>. Permite interpretar <strong>qué significa</strong> una diferencia de valores en términos sustantivos (por ejemplo, tasas, montos, porcentajes).</p></li>
</ul>
</section>
<section id="ejemplos-11" class="level3" data-number="5.3.5">
<h3 data-number="5.3.5" class="anchored" data-anchor-id="ejemplos-11"><span class="header-section-number">5.3.5</span> <strong>Ejemplos</strong></h3>
<section id="puntaje-010-de-un-indicador-por-región-básico" class="level4" data-number="5.3.5.1">
<h4 data-number="5.3.5.1" class="anchored" data-anchor-id="puntaje-010-de-un-indicador-por-región-básico"><span class="header-section-number">5.3.5.1</span> <strong>1) Puntaje 0–10 de un indicador por región (básico)</strong></h4>
<p><strong>Se desea lo siguiente:</strong> graficar el <strong>puntaje</strong> del indicador (código) en la edición 2025 para <strong>todas</strong> las regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_barras</span>(</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar     =</span> <span class="st">"LAB"</span>,</span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"LAB2"</span>,</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span></span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-73-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Barras horizontales ordenadas (0–10), una por región, con etiquetas de valor y estilo del paquete.</p>
</section>
<section id="puntaje-por-grupo-costero-con-exclusión-de-un-patrón" class="level4" data-number="5.3.5.2">
<h4 data-number="5.3.5.2" class="anchored" data-anchor-id="puntaje-por-grupo-costero-con-exclusión-de-un-patrón"><span class="header-section-number">5.3.5.2</span> <strong>2) Puntaje por grupo costero con exclusión de un patrón</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar el <strong>puntaje</strong> del indicador por las <strong>regiones de la costa</strong>, excluyendo las que empiecen con “Lima*”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_barras</span>(</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar     =</span> <span class="st">"ECO"</span>,</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"ECO7"</span>,</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-74-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Barras para el subconjunto costero <strong>sin</strong> Lima*, útiles para contrastes regionales enfocados.</p>
</section>
<section id="valor-original-del-indicador-con-unidad-en-el-eje" class="level4" data-number="5.3.5.3">
<h4 data-number="5.3.5.3" class="anchored" data-anchor-id="valor-original-del-indicador-con-unidad-en-el-eje"><span class="header-section-number">5.3.5.3</span> <strong>3) Valor original del indicador con unidad en el eje</strong></h4>
<p><strong>Se desea lo siguiente:</strong> graficar el <strong>valor</strong> del indicador (no puntaje) para 2024, mostrando la <strong>unidad</strong> en el eje y la <strong>fuente</strong> automática.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_barras</span>(</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2024</span>,</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar     =</span> <span class="st">"ECO"</span>,</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"ECO7"</span>,</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span>,</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">label_indicador =</span> <span class="st">"nombre"</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-75-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Barras con eje rotulado según la <strong>unidad corta</strong> del indicador, ordenadas de mayor a menor.</p>
</section>
<section id="valor-del-indicador-para-un-subconjunto-mixto-y-con-perú" class="level4" data-number="5.3.5.4">
<h4 data-number="5.3.5.4" class="anchored" data-anchor-id="valor-del-indicador-para-un-subconjunto-mixto-y-con-perú"><span class="header-section-number">5.3.5.4</span> <strong>4) Valor del indicador para un subconjunto mixto y con “Perú”</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar valores en regiones específicas <strong>más</strong> un grupo, <strong>incluyendo “Perú”</strong> para referencia.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_barras</span>(</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion       =</span> <span class="dv">2024</span>,</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador     =</span> <span class="st">"1.7 Billeteras digitales"</span>,</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones      =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"La Libertad"</span>, <span class="st">"gr_sierra"</span>),</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta        =</span> <span class="st">"viridis"</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span>,</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">label_indicador =</span> <span class="st">"cod"</span></span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-76-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Barras para el conjunto mixto (regiones explícitas + grupo), <strong>con</strong> la fila “Perú”, paleta continua cualitativa y rótulo del título por <strong>código</strong>.</p>
</section>
<section id="puntaje-por-indicador-identificado" class="level4" data-number="5.3.5.5">
<h4 data-number="5.3.5.5" class="anchored" data-anchor-id="puntaje-por-indicador-identificado"><span class="header-section-number">5.3.5.5</span> <strong>5) Puntaje por indicador identificado</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_barras</span>(</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"2.2 Formalidad laboral"</span>,  <span class="co"># ejemplo de nombre completo</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_selva"</span>, <span class="st">"Cusco"</span>),</span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-77-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Barras por región del <strong>puntaje</strong> (0–10) para el indicador identificado por <strong>nombre</strong>, si el nombre no es único fuera del pilar, el pilar desambiguará correctamente.</p>
</section>
</section>
</section>
<section id="líneas-por-indicador-valor_largo-y-por-puntaje-indc_largo" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="líneas-por-indicador-valor_largo-y-por-puntaje-indc_largo"><span class="header-section-number">5.4</span> <strong>Líneas por indicador (valor_largo) y por puntaje (indc_largo)</strong></h2>
<ul>
<li><p>valor_largo() grafica la <strong>evolución de valores originales</strong> (no puntajes) de uno o varios indicadores de un pilar a lo largo de <strong>múltiples ediciones</strong>. Rotula cada facet con <strong>código o nombre</strong> y añade <strong>unidad</strong> al panel (cuando se elige por código).</p></li>
<li><p>indc_largo() grafica la <strong>evolución del puntaje (0–10)</strong> por <strong>indicador</strong> de un pilar, también en <strong>varias ediciones</strong>, con facets por indicador (rotulados por <strong>nombre</strong> completo o <strong>código</strong>).</p></li>
</ul>
<section id="parámetros-decisiones-clave" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="parámetros-decisiones-clave"><span class="header-section-number">5.4.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<p><strong>Comunes</strong></p>
<ul>
<li><p>ediciones: rango con <strong>≥ 2</strong> años (p.ej., 2019:2025).</p></li>
<li><p>pilar: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/….</p></li>
<li><p>indicadores: “ALL” o mezcla de <strong>códigos y nombres</strong>, en valor_largo().</p></li>
<li><p>regiones: “ALL”, lista de nombres/códigos, y combinaciones con <strong>grupos</strong> gr_* y <strong>exclusiones</strong> con “-”.</p></li>
<li><p>usar_codigos: si TRUE, traduce códigos <strong>antes</strong> de filtrar.</p></li>
<li><p>facetear: si TRUE, genera <strong>facets por indicador</strong>, útil cuando hay varios.</p></li>
</ul>
<p><strong>Sólo en valor_largo()</strong></p>
<ul>
<li><p>paleta: “ipe”, “okabe_ito”, “viridis”.</p></li>
<li><p>mostrar_puntos: puntos sobre las líneas.</p></li>
<li><p>label_indicador: “codigo” (default) o “nombre” para el rótulo del facet.</p></li>
</ul>
<p><strong>Sólo en indc_largo()</strong></p>
<ul>
<li><p>facet_label_nombre: TRUE (default) rotula los facets con <strong>“d.d nombre completo”</strong>, FALSE usa el <strong>código</strong> (“EDU3”).</p></li>
<li><p>paleta, mostrar_puntos: iguales que arriba.</p></li>
</ul>
</section>
<section id="explicación-conceptual-12" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="explicación-conceptual-12"><span class="header-section-number">5.4.2</span> <strong>Explicación conceptual</strong></h3>
<ul>
<li><p>valor_largo() trabaja con la <strong>magnitud observada</strong> (no estandarizada). Filtra <strong>valores ≠ puntaje</strong>, mapea <strong>código↔︎nombre</strong> con el catálogo y arma <strong>etiquetas de facet</strong> (código o nombre + <strong>unidad corta</strong>). Ideal para interpretar cambios <strong>sustantivos</strong> (tasas, montos, porcentajes) por indicador y región en el tiempo.</p></li>
<li><p>indc_largo() se limita al <strong>puntaje 0–10</strong> (estandarizado), excluye “General” y <strong>“Perú”</strong> por defecto, y consolida a <strong>un valor por (región, edición, indicador)</strong>. Útil para comparar <strong>trayectorias relativas</strong> entre regiones manteniendo la <strong>misma escala</strong>.</p></li>
</ul>
</section>
<section id="ejemplos-12" class="level3" data-number="5.4.3">
<h3 data-number="5.4.3" class="anchored" data-anchor-id="ejemplos-12"><span class="header-section-number">5.4.3</span> <strong>Ejemplos</strong></h3>
<section id="a-valores-originales-con-valor_largo" class="level4" data-number="5.4.3.1">
<h4 data-number="5.4.3.1" class="anchored" data-anchor-id="a-valores-originales-con-valor_largo"><span class="header-section-number">5.4.3.1</span> <strong>A) Valores originales con valor_largo()</strong></h4>
<ol type="1">
<li><strong>Varios indicadores (auto) en un rango de años</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> graficar la <strong>evolución de valores</strong> de <strong>todos</strong> los indicadores del pilar ECO (2020–2025) para <strong>todas</strong> las regiones, con facets automáticos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_largo</span>(</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones      =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar          =</span> <span class="st">"ECO"</span>,</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores    =</span> <span class="st">"ALL"</span>,</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones       =</span> <span class="st">"ALL"</span>,</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">facetear       =</span> <span class="cn">TRUE</span>,</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta         =</span> <span class="st">"ipe"</span>,</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span>,</span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">label_indicador =</span> <span class="st">"codigo"</span></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-78-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Paneles por indicador (ECO1, ECO2, …) con líneas por región, el rótulo muestra <strong>código + unidad</strong>.</p>
<ol start="2" type="1">
<li><strong>Selección mixta de indicadores</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> graficar sólo <strong>ECO3</strong> en 2016–2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_largo</span>(</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones   =</span> <span class="dv">2016</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar       =</span> <span class="st">"ECO"</span>,</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="fu">c</span>(<span class="st">"ECO2"</span>),</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="st">"gr_sur"</span>,</span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">facetear    =</span> <span class="cn">TRUE</span>,</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta      =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">label_indicador =</span> <span class="st">"nombre"</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-79-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Facets sólo de los tres indicadores solicitados, los que empiezan con “3.1 …” se <strong>mapean a ECO3</strong> si corresponde.</p>
<ol start="3" type="1">
<li><strong>Subconjunto regional con exclusiones</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> graficar valores de <strong>LAB (ALL)</strong> en 2019–2025 para la <strong>Costa</strong> y la <strong>Macro Norte</strong>, <strong>excluyendo</strong> “Lima*”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_largo</span>(</span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones   =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar       =</span> <span class="st">"LAB"</span>,</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="st">"ALL"</span>,</span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_norte"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta      =</span> <span class="st">"viridis"</span>,</span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">facetear    =</span> <span class="cn">TRUE</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-80-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Líneas sólo para las regiones filtradas, Lima* no aparece en los paneles.</p>
</section>
<section id="b-puntajes-010-con-indc_largo" class="level4" data-number="5.4.3.2">
<h4 data-number="5.4.3.2" class="anchored" data-anchor-id="b-puntajes-010-con-indc_largo"><span class="header-section-number">5.4.3.2</span> <strong>B) Puntajes 0–10 con indc_largo()</strong></h4>
<ol type="1">
<li><strong>Todos los indicadores de un pilar (puntaje) en varios años</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> graficar la <strong>evolución del puntaje (0–10)</strong> de todos los <strong>indicadores</strong> del pilar <strong>EDU</strong> (2018–2025), por región.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_largo</span>(</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones          =</span> <span class="dv">2018</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar              =</span> <span class="st">"EDU"</span>,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores        =</span> <span class="st">"ALL"</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones           =</span> <span class="st">"gr_norte"</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">facetear           =</span> <span class="cn">TRUE</span>,</span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">facet_label_nombre =</span> <span class="cn">TRUE</span>,</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta             =</span> <span class="st">"ipe"</span>,</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos     =</span> <span class="cn">TRUE</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-81-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<ol start="2" type="1">
<li><strong>Lista acotada de indicadores por código y nombre</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> comparar sólo <strong>LAB2</strong> y <strong>“2.5 …”</strong> (por nombre) en 2020–2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_largo</span>(</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones          =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar              =</span> <span class="st">"LAB"</span>,</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores        =</span> <span class="fu">c</span>(<span class="st">"LAB2"</span>, <span class="st">"2.5 Inserción laboral juvenil"</span>),</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones           =</span> <span class="st">"ALL"</span>,</span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">facetear           =</span> <span class="cn">TRUE</span>,</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">facet_label_nombre =</span> <span class="cn">FALSE</span>,  <span class="co"># usar rótulo por código</span></span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta             =</span> <span class="st">"okabe_ito"</span></span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-82-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dos facets (códigos), con líneas de regiones y escala 0–10.</p>
<ol start="3" type="1">
<li><strong>Con grupos y exclusiones de regiones</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> puntajes de <strong>ECO</strong> (indicadores ALL) en 2023–2025 para <strong>Sierra</strong> y <strong>Selva</strong>, excluyendo “Lima*”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_largo</span>(</span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones   =</span> <span class="dv">2023</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar       =</span> <span class="st">"ECO"</span>,</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="st">"ALL"</span>,</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="fu">c</span>(<span class="st">"gr_sur"</span>, <span class="st">"gr_selva"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta      =</span> <span class="st">"viridis"</span>,</span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">facetear    =</span> <span class="cn">TRUE</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-83-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Facets por indicador, sólo líneas de regiones pertenecientes a los grupos especificados, sin Lima*.</p>
</section>
</section>
</section>
<section id="mapas-por-indicador-valor_mapa-y-por-puntaje-indc_mapa" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="mapas-por-indicador-valor_mapa-y-por-puntaje-indc_mapa"><span class="header-section-number">5.5</span> <strong>Mapas por indicador (valor_mapa) y por puntaje (indc_mapa)</strong></h2>
<ul>
<li><p><strong>valor_mapa()</strong> colorea cada región por el <strong>valor original</strong> del indicador (no estandarizado). El eje/leyenda usa la <strong>unidad propia</strong> y el <em>caption</em> la <strong>fuente</strong>.</p></li>
<li><p><strong>indc_mapa()</strong> colorea por el <strong>puntaje (0–10)</strong> del indicador, en la misma escala estandarizada del índice.</p></li>
</ul>
<section id="parámetros-decisiones-clave-1" class="level3" data-number="5.5.1">
<h3 data-number="5.5.1" class="anchored" data-anchor-id="parámetros-decisiones-clave-1"><span class="header-section-number">5.5.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<p><strong>Comunes</strong></p>
<ul>
<li><p><strong>edicion</strong>: un año (2016–2025), p.ej. 2025.</p></li>
<li><p><strong>indicador</strong>: código “ECO3”, “LAB2”… o <strong>nombre completo</strong>.</p></li>
<li><p><strong>pilar</strong>: código “ECO”/“LAB”/… o nombre, <strong>opcional</strong> (se usa para validar coherencia).</p></li>
<li><p><strong>regiones</strong>: “ALL”, lista de nombres/códigos y combinaciones con <strong>grupos</strong> gr_* y <strong>exclusiones</strong> “-” (mismos patrones que en otras funciones).</p></li>
<li><p><strong>usar_codigos</strong>: si TRUE, traduce códigos <strong>antes</strong> de filtrar.</p></li>
<li><p><strong>mapa_sf</strong>: objeto sf con region y geometry. Si NULL, se usa mapa_peru(simplificar=…).</p></li>
<li><p><strong>simplificar</strong>: tolerancia para mapa_peru(), 0 = sin simplificar.</p></li>
<li><p><strong>zoom</strong> y <strong>expand_zoom</strong>: acotan la vista al <em>bounding box</em> de las regiones con datos.</p></li>
<li><p><strong>etiquetas</strong>: “repel”, “texto” o “ninguna” para rotular valores dentro del mapa.</p></li>
</ul>
<p><strong>Sólo en valor_mapa()</strong></p>
<ul>
<li><p><strong>paleta</strong> (continua): “blues” (default), “viridis”, “cividis”, “magma”.</p></li>
<li><p><strong>subtitulo_nombre</strong>: TRUE muestra <strong>nombre</strong> del indicador en el subtítulo, FALSE usa el <strong>código</strong>.</p></li>
</ul>
<p><strong>Sólo en indc_mapa()</strong></p>
<ul>
<li><p><strong>paleta</strong> (continua): “blues”, “greens”, “viridis”, “cividis”, “magma”, “divergente”.</p></li>
<li><p><strong>subtitulo_nombre</strong>: TRUE rotula el subtítulo con <strong>nombre</strong>, FALSE con <strong>código</strong>.</p></li>
</ul>
</section>
<section id="explicación-conceptual-13" class="level3" data-number="5.5.2">
<h3 data-number="5.5.2" class="anchored" data-anchor-id="explicación-conceptual-13"><span class="header-section-number">5.5.2</span> <strong>Explicación conceptual</strong></h3>
<ul>
<li><p><strong>valor_mapa()</strong> trabaja con la <strong>magnitud observada</strong> (no estandarizada): filtra valores ≠ “Puntaje del 0 al 10”, consolida a <strong>un valor por región</strong> (promedio defensivo), usa <strong>escala continua</strong> acorde al rango real del indicador, muestra <strong>unidad completa</strong> en subtítulo y <strong>unidad corta</strong> en la leyenda, y añade <strong>fuente</strong> en el <em>caption</em>.</p></li>
<li><p><strong>indc_mapa()</strong> se limita al <strong>puntaje 0–10</strong>, excluye “Perú” y “General”, consolida por región y aplica paletas continuas en el rango [0,10]. Útil para comparar <strong>posicionamiento relativo</strong> entre regiones con la misma escala del índice.</p></li>
</ul>
</section>
<section id="ejemplos-13" class="level3" data-number="5.5.3">
<h3 data-number="5.5.3" class="anchored" data-anchor-id="ejemplos-13"><span class="header-section-number">5.5.3</span> <strong>Ejemplos</strong></h3>
<section id="a-mapas-de-valores-originales-con-valor_mapa" class="level4" data-number="5.5.3.1">
<h4 data-number="5.5.3.1" class="anchored" data-anchor-id="a-mapas-de-valores-originales-con-valor_mapa"><span class="header-section-number">5.5.3.1</span> <strong>A) Mapas de valores originales con valor_mapa()</strong></h4>
<ol type="1">
<li><strong>Indicador por código, todas las regiones</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> colorear por el <strong>valor</strong> de ECO7 en <strong>2025</strong>, con etiquetas y paleta en azul.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_mapa</span>(</span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion          =</span> <span class="dv">2025</span>,</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador        =</span> <span class="st">"ECO7"</span>,</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones         =</span> <span class="st">"ALL"</span>,</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta           =</span> <span class="st">"blues"</span>,</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas        =</span> <span class="st">"repel"</span>,</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitulo_nombre =</span> <span class="cn">TRUE</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-84-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Coropleta por región con leyenda en <strong>unidad propia</strong> (abreviada), subtítulo con nombre completo y <em>caption</em> con la(s) <strong>fuente(s)</strong>.</p>
<ol start="2" type="1">
<li><strong>Nombre de indicador + zoom a subconjunto regional</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> mapear el valor de <strong>“1.7 Billeteras digitales”</strong> en 2024, sólo para <strong>Costa</strong> y <strong>Norte</strong>, excluyendo “Lima*”, y <strong>zoom</strong> al área.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_mapa</span>(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2024</span>,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"1.7 Billeteras digitales"</span>,</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_norte"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"texto"</span>,</span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom      =</span> <span class="cn">TRUE</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-85-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mapa enfocado al subconjunto con etiquetas simples y leyenda continua en la unidad correspondiente.</p>
</section>
<section id="b-mapas-de-puntajes-010-con-indc_mapa" class="level4" data-number="5.5.3.2">
<h4 data-number="5.5.3.2" class="anchored" data-anchor-id="b-mapas-de-puntajes-010-con-indc_mapa"><span class="header-section-number">5.5.3.2</span> <strong>B) Mapas de puntajes 0–10 con indc_mapa()</strong></h4>
<ol type="1">
<li><strong>Indicador por código, paleta continua</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> colorear por el <strong>puntaje</strong> de LAB2 en 2025 para <strong>todas</strong> las regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_mapa</span>(</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion          =</span> <span class="dv">2025</span>,</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador        =</span> <span class="st">"LAB2"</span>,</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones         =</span> <span class="st">"ALL"</span>,</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta           =</span> <span class="st">"greens"</span>,</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas        =</span> <span class="st">"repel"</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">subtitulo_nombre =</span> <span class="cn">FALSE</span>  <span class="co"># subtítulo con código</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-86-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Coropleta en escala 0–10, subtítulo con <strong>código</strong>, etiquetas numéricas redondeadas.</p>
<ol start="2" type="1">
<li><strong>Indicador por nombre, con exclusiones y paleta alternativa</strong></li>
</ol>
<p><strong>Se desea lo siguiente:</strong> puntaje del indicador <strong>“2.2 Formalidad laboral”</strong> en 2025, sólo <strong>Selva</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_mapa</span>(</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"2.2 Formalidad laboral"</span>,</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_selva"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"cividis"</span>,</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas =</span> <span class="st">"ninguna"</span>,</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">zoom      =</span> <span class="cn">TRUE</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-87-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Mapa con escala 0–10 y vista recortada al subconjunto, sin etiquetas sobre el mapa.</p>
</section>
</section>
</section>
<section id="dispersión-por-indicador-indc_dispersion" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="dispersión-por-indicador-indc_dispersion"><span class="header-section-number">5.6</span> <strong>Dispersión por indicador (indc_dispersion)</strong></h2>
<ul>
<li><p>indc_dispersion() muestra, para <strong>una edición</strong> y un <strong>pilar</strong>, un diagrama de <strong>dispersión</strong> donde el eje X son los <strong>códigos de indicadores</strong> (p.ej., LAB2, LAB5, …) y cada punto es el <strong>puntaje (0–10)</strong> de una <strong>región</strong> en ese indicador.</p></li>
<li><p>Filtra siempre a unidad == “Puntaje del 0 al 10”, excluye “General” y, por defecto, <strong>no</strong> incluye “Perú”.</p></li>
</ul>
<section id="parámetros-decisiones-clave-2" class="level3" data-number="5.6.1">
<h3 data-number="5.6.1" class="anchored" data-anchor-id="parámetros-decisiones-clave-2"><span class="header-section-number">5.6.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<p><strong>Comunes</strong></p>
<ul>
<li><p><strong>edicion</strong>: año único (2016–2025).</p></li>
<li><p><strong>pilar</strong>: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/….</p></li>
<li><p><strong>regiones</strong>: “ALL”, lista de nombres/códigos, y combinaciones con <strong>grupos</strong> gr_* y <strong>exclusiones</strong> con “-” (p.ej., c(“gr_costa”,“-Lima*”)).</p></li>
<li><p><strong>usar_codigos</strong>: si TRUE, traduce códigos antes de filtrar.</p></li>
<li><p><strong>paleta</strong>: “ipe”, “okabe_ito”, “viridis”.</p></li>
<li><p><strong>mostrar_leyenda</strong>: muestra/oculta la leyenda por región.</p></li>
</ul>
<p><strong>Promedio y dispersión</strong></p>
<ul>
<li><p><strong>mostrar_promedio</strong>: si TRUE, agrega un <strong>rombo</strong> por indicador con el <strong>promedio</strong> regional.</p></li>
<li><p><strong>promedio_shape / promedio_size / promedio_color / promedio_fill</strong>: estilo del rombo.</p></li>
<li><p><strong>jitter_width / jitter_height</strong>: “apertura” horizontal/vertical de los puntos (útil para evitar solapes).</p></li>
</ul>
</section>
<section id="explicación-conceptual-14" class="level3" data-number="5.6.2">
<h3 data-number="5.6.2" class="anchored" data-anchor-id="explicación-conceptual-14"><span class="header-section-number">5.6.2</span> <strong>Explicación conceptual</strong></h3>
<p>La función consolida a <strong>un valor por (región × indicador)</strong> (promedio defensivo si hubiera duplicados), ordena el eje X por <strong>código de indicador</strong> y colorea por <strong>región</strong>. El rombo opcional indica la <strong>posición promedio</strong> por indicador, lo cual facilita ver <strong>dispersión</strong> y <strong>asimetrías</strong> entre regiones sobre la <strong>misma escala (0–10)</strong>.</p>
</section>
<section id="ejemplos-14" class="level3" data-number="5.6.3">
<h3 data-number="5.6.3" class="anchored" data-anchor-id="ejemplos-14"><span class="header-section-number">5.6.3</span> <strong>Ejemplos</strong></h3>
<section id="dispersión-básica-por-pilar-para-todas-las-regiones" class="level4" data-number="5.6.3.1">
<h4 data-number="5.6.3.1" class="anchored" data-anchor-id="dispersión-básica-por-pilar-para-todas-las-regiones"><span class="header-section-number">5.6.3.1</span> <strong>1) Dispersión básica por pilar para todas las regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> ver la dispersión de puntajes de <strong>LAB</strong> en <strong>2025</strong>, con promedio por indicador.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_dispersion</span>(</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion          =</span> <span class="dv">2025</span>,</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar            =</span> <span class="st">"LAB"</span>,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones         =</span> <span class="st">"ALL"</span>,</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta           =</span> <span class="st">"ipe"</span>,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">TRUE</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-88-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Eje X con LAB1, LAB2, …, puntos por región y rombos de promedio, eje Y en 0–10.</p>
</section>
<section id="con-grupos-y-exclusiones-de-regiones-resaltando-promedio" class="level4" data-number="5.6.3.2">
<h4 data-number="5.6.3.2" class="anchored" data-anchor-id="con-grupos-y-exclusiones-de-regiones-resaltando-promedio"><span class="header-section-number">5.6.3.2</span> <strong>2) Con grupos y exclusiones de regiones, resaltando promedio</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar <strong>ECO (2025)</strong> sólo para <strong>Costa</strong> y <strong>Selva</strong>, excluyendo “Lima*”, mantener el rombo de promedio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_dispersion</span>(</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion          =</span> <span class="dv">2025</span>,</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar            =</span> <span class="st">"ECO"</span>,</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones         =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_selva"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta           =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">TRUE</span>,</span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda  =</span> <span class="cn">TRUE</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-89-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Puntos únicamente de las regiones filtradas, Lima* no aparece, rombos por indicador.</p>
</section>
<section id="sin-promedio-controlando-el-jitter-y-ocultando-leyenda" class="level4" data-number="5.6.3.3">
<h4 data-number="5.6.3.3" class="anchored" data-anchor-id="sin-promedio-controlando-el-jitter-y-ocultando-leyenda"><span class="header-section-number">5.6.3.3</span> <strong>3) Sin promedio, controlando el jitter y ocultando leyenda</strong></h4>
<p><strong>Se desea lo siguiente:</strong> para <strong>EDU (2024)</strong>, ocultar la leyenda, suprimir el promedio y ajustar la dispersión para evitar solapes.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_dispersion</span>(</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion          =</span> <span class="dv">2024</span>,</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar            =</span> <span class="st">"EDU"</span>,</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones         =</span> <span class="st">"ALL"</span>,</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta           =</span> <span class="st">"viridis"</span>,</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_promedio =</span> <span class="cn">FALSE</span>,</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter_width     =</span> <span class="fl">0.12</span>,</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter_height    =</span> <span class="fl">0.00</span>,</span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda  =</span> <span class="cn">FALSE</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-90-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Nube de puntos por región en cada EDU*, sin rombos, con mejor separación horizontal.</p>
</section>
</section>
</section>
<section id="distribución-por-indicador-indc_distribucion" class="level2" data-number="5.7">
<h2 data-number="5.7" class="anchored" data-anchor-id="distribución-por-indicador-indc_distribucion"><span class="header-section-number">5.7</span> <strong>Distribución por indicador (indc_distribucion)</strong></h2>
<ul>
<li><p>indc_distribucion() muestra, para <strong>una edición</strong> y <strong>un pilar</strong>, la <strong>distribución de puntajes (0–10)</strong> por <strong>indicador</strong> entre regiones, como <strong>boxplot</strong> o <strong>violin</strong>. El eje X son <strong>códigos</strong> (p.ej., LAB1, LAB2, …), el eje Y es el <strong>puntaje (0–10)</strong>.</p></li>
<li><p>Siempre excluye “Perú” y “General”, y consolida a <strong>un valor por (región, indicador)</strong> mediante promedio defensivo si hubiera duplicados.</p></li>
</ul>
<section id="parámetros-decisiones-clave-3" class="level3" data-number="5.7.1">
<h3 data-number="5.7.1" class="anchored" data-anchor-id="parámetros-decisiones-clave-3"><span class="header-section-number">5.7.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<ul>
<li><p><strong>edicion</strong>: año único (p.ej., 2025).</p></li>
<li><p><strong>pilar</strong>: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/….</p></li>
<li><p><strong>indicadores</strong>: “ALL” (default) o vector de <strong>códigos</strong>/<strong>nombres</strong> (p.ej., c(“LAB1”,“Inserción laboral juvenil”)).</p></li>
<li><p><strong>regiones</strong>: “ALL” o vector, admite <strong>grupos</strong> gr_* y <strong>exclusiones</strong> con “-” (a través de los helpers de regiones de tu paquete).</p></li>
<li><p><strong>usar_codigos</strong>: si TRUE (default), permite pasar códigos en pilar/regiones/indicadores.</p></li>
<li><p><strong>tipo</strong>: “boxplot” (default) o “violin”.</p></li>
<li><p><strong>jitter</strong>: TRUE para superponer puntos individuales (ruido controlado).</p></li>
<li><p><strong>paleta</strong>: “blues” (default), “viridis”, “cividis” — aplicada <strong>por indicador</strong>.</p></li>
<li><p><strong>linea_promedio</strong>: TRUE dibuja línea horizontal con el <strong>promedio global</strong> de puntajes.</p></li>
<li><p><strong>mostrar_leyenda</strong>: FALSE (default). Útil activarla si quieres identificar el <strong>relleno por indicador</strong>.</p></li>
</ul>
</section>
<section id="explicación-conceptual-15" class="level3" data-number="5.7.2">
<h3 data-number="5.7.2" class="anchored" data-anchor-id="explicación-conceptual-15"><span class="header-section-number">5.7.2</span> <strong>Explicación conceptual</strong></h3>
<ul>
<li><p>La función trabaja solo con <strong>puntajes estandarizados (0–10)</strong> del INCORE, y <strong>facilita comparar dispersión</strong> entre regiones por indicador dentro del pilar.</p></li>
<li><p>El <strong>orden</strong> de los indicadores en el eje X se define por la <strong>mediana</strong> de su distribución (desc), lo que ayuda a leer de mayor a menor desempeño típico.</p></li>
<li><p>Con tipo = “boxplot” ves mediana, IQR y valores atípicos, con tipo = “violin” ves densidad. El jitter aporta granularidad por región.</p></li>
<li><p>La <strong>línea punteada</strong> (linea_promedio) resume el nivel <strong>promedio general</strong> de puntajes.</p></li>
</ul>
</section>
<section id="ejemplos-15" class="level3" data-number="5.7.3">
<h3 data-number="5.7.3" class="anchored" data-anchor-id="ejemplos-15"><span class="header-section-number">5.7.3</span> <strong>Ejemplos</strong></h3>
<section id="boxplot-de-todos-los-indicadores-de-un-pilar" class="level4" data-number="5.7.3.1">
<h4 data-number="5.7.3.1" class="anchored" data-anchor-id="boxplot-de-todos-los-indicadores-de-un-pilar"><span class="header-section-number">5.7.3.1</span> <strong>1) Boxplot de todos los indicadores de un pilar</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar la <strong>distribución</strong> de puntajes de <strong>LAB</strong> en <strong>2025</strong> para <strong>todas</strong> las regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_distribucion</span>(</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion         =</span> <span class="dv">2025</span>,</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar           =</span> <span class="st">"LAB"</span>,</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="st">"ALL"</span>,</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo            =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter          =</span> <span class="cn">TRUE</span>,</span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"blues"</span>,</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span></span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-91-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Boxplots por <strong>LAB1, LAB2, …</strong> ordenados por mediana (desc), con puntos de regiones y línea de promedio global.</p>
</section>
<section id="violin-para-un-subconjunto-de-indicadores" class="level4" data-number="5.7.3.2">
<h4 data-number="5.7.3.2" class="anchored" data-anchor-id="violin-para-un-subconjunto-de-indicadores"><span class="header-section-number">5.7.3.2</span> <strong>2) Violin para un subconjunto de indicadores</strong></h4>
<p><strong>Se desea lo siguiente:</strong> visualizar solo <strong>LAB2</strong> y <strong>LAB5</strong> como violines, con puntos, en 2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_distribucion</span>(</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion         =</span> <span class="dv">2025</span>,</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar           =</span> <span class="st">"LAB"</span>,</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores     =</span> <span class="fu">c</span>(<span class="st">"LAB2"</span>, <span class="st">"LAB5"</span>),</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="st">"ALL"</span>,</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo            =</span> <span class="st">"violin"</span>,</span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter          =</span> <span class="cn">TRUE</span>,</span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"viridis"</span>,</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-92-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dos violines (LAB2, LAB5) con escala 0–10 y línea de promedio.</p>
</section>
<section id="con-grupos-y-exclusiones-de-regiones" class="level4" data-number="5.7.3.3">
<h4 data-number="5.7.3.3" class="anchored" data-anchor-id="con-grupos-y-exclusiones-de-regiones"><span class="header-section-number">5.7.3.3</span> <strong>3) Con grupos y exclusiones de regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar la distribución de <strong>ECO</strong> (todos los indicadores) en 2024 para <strong>Costa</strong> y <strong>Norte</strong>, excluyendo “Lima*”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_distribucion</span>(</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion         =</span> <span class="dv">2024</span>,</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar           =</span> <span class="st">"ECO"</span>,</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_norte"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo            =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter          =</span> <span class="cn">TRUE</span>,</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"cividis"</span>,</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio  =</span> <span class="cn">TRUE</span></span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-93-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Distribuciones por indicador solo para las regiones filtradas, Lima* no aparece.</p>
</section>
</section>
</section>
<section id="telaraña-por-indicadores-indc_radar" class="level2" data-number="5.8">
<h2 data-number="5.8" class="anchored" data-anchor-id="telaraña-por-indicadores-indc_radar"><span class="header-section-number">5.8</span> <strong>Telaraña por INDICADORES (indc_radar)</strong></h2>
<ul>
<li><p>indc_radar() dibuja un <strong>radar</strong> con los <strong>indicadores</strong> de un <strong>pilar</strong> en <strong>una edición</strong>, comparando una o varias <strong>regiones</strong>.</p></li>
<li><p>Los ejes pueden rotularse por <strong>código</strong> (LAB2, EDU5, …) o por <strong>nombre</strong> completo.</p></li>
<li><p>Siempre usa <strong>puntaje (0–10)</strong>, excluye “Perú” y “General”, y consolida un único valor por (región, indicador).</p></li>
</ul>
<section id="parámetros-10" class="level3" data-number="5.8.1">
<h3 data-number="5.8.1" class="anchored" data-anchor-id="parámetros-10"><span class="header-section-number">5.8.1</span> <strong>Parámetros</strong></h3>
<ul>
<li><p><strong>edicion</strong>: año a graficar (2016 … 2025).</p></li>
<li><p><strong>pilar</strong>: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/….</p></li>
<li><p><strong>indicadores</strong>: “ALL” (default) o vector mixto de <strong>códigos</strong> y/o <strong>nombres</strong> a incluir.</p></li>
<li><p><strong>regiones</strong>:</p>
<ul>
<li><p>“AUTO3” (default) selecciona automáticamente <strong>3</strong> regiones (baja, media y alta) por promedio del pilar.</p></li>
<li><p>“ALL” o vector de nombres/códigos, admite combinaciones con tus <em>helpers</em> (grupos/ exclusiones) si prefieres filtrar antes y pasar el resultado.</p></li>
</ul></li>
<li><p><strong>usar_codigos</strong>: si TRUE, traduce códigos antes de filtrar.</p></li>
<li><p><strong>etiquetas_indicadores</strong>: “codigo” (default) o “nombre” para el <strong>rótulo de ejes</strong>.</p></li>
<li><p><strong>max_regiones</strong>: umbral de advertencia por legibilidad (default 6).</p></li>
<li><p><strong>alpha</strong>: transparencia del <strong>relleno</strong> (default 0.25).</p></li>
<li><p><strong>paleta</strong>: “ipe”, “okabe_ito”, “viridis” (cualitativas por región).</p></li>
<li><p><strong>mostrar_puntos</strong>: TRUE/FALSE para puntos en los vértices.</p></li>
</ul>
</section>
<section id="explicación-conceptual-16" class="level3" data-number="5.8.2">
<h3 data-number="5.8.2" class="anchored" data-anchor-id="explicación-conceptual-16"><span class="header-section-number">5.8.2</span> <strong>Explicación conceptual</strong></h3>
<p>El radar compara regiones <strong>en la misma escala 0–10</strong> para todos los <strong>indicadores</strong> del pilar.</p>
<ul>
<li><p>Cuando regiones=“AUTO3”, se eligen automáticamente tres casos representativos (bajo/medio/alto) para una lectura rápida.</p></li>
<li><p>Si hay muchos polígonos (muchas regiones), la superposición reduce la claridad, por eso se <strong>advierte</strong> cuando superas max_regiones.</p></li>
<li><p>Se normaliza/depura para asegurar <strong>un valor por (región, indicador)</strong>, y se recorta a [0,10] por robustez.</p></li>
</ul>
</section>
<section id="ejemplos-16" class="level3" data-number="5.8.3">
<h3 data-number="5.8.3" class="anchored" data-anchor-id="ejemplos-16"><span class="header-section-number">5.8.3</span> <strong>Ejemplos</strong></h3>
<section id="comparación-rápida-con-selección-automática-de-regiones" class="level4" data-number="5.8.3.1">
<h4 data-number="5.8.3.1" class="anchored" data-anchor-id="comparación-rápida-con-selección-automática-de-regiones"><span class="header-section-number">5.8.3.1</span> <strong>1) Comparación rápida con selección automática de regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> un radar de <strong>Laboral</strong> en <strong>2025</strong> con todos los indicadores, dejando que el algoritmo elija 3 regiones representativas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_radar</span>(</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar     =</span> <span class="st">"LAB"</span>,</span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="st">"ALL"</span>,</span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"AUTO3"</span>,</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_indicadores =</span> <span class="st">"codigo"</span>,  <span class="co"># ejes tipo LAB1, LAB2, ...</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span>,</span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha     =</span> <span class="fl">0.25</span>,</span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_puntos =</span> <span class="cn">TRUE</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-94-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Tres polígonos (baja/mediana/alta) con ejes por <strong>código</strong> de indicador y escala 0–10.</p>
</section>
<section id="comparar-un-conjunto-específico-de-regiones-con-ejes-por-nombre" class="level4" data-number="5.8.3.2">
<h4 data-number="5.8.3.2" class="anchored" data-anchor-id="comparar-un-conjunto-específico-de-regiones-con-ejes-por-nombre"><span class="header-section-number">5.8.3.2</span> <strong>2) Comparar un conjunto específico de regiones con ejes por nombre</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar <strong>Arequipa</strong>, <strong>Cusco</strong> y <strong>La Libertad</strong> en <strong>ECO (2025)</strong>, con ejes rotulados por <strong>nombre</strong> de indicador.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_radar</span>(</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar     =</span> <span class="st">"EDU"</span>,</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="st">"ALL"</span>,</span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Cusco"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_indicadores =</span> <span class="st">"nombre"</span>,</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha     =</span> <span class="fl">0.3</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-95-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Radar con <strong>3 regiones</strong> y ejes por <strong>nombre</strong> completo, título y caption con estilo del paquete.</p>
</section>
<section id="foco-en-un-subconjunto-de-indicadores" class="level4" data-number="5.8.3.3">
<h4 data-number="5.8.3.3" class="anchored" data-anchor-id="foco-en-un-subconjunto-de-indicadores"><span class="header-section-number">5.8.3.3</span> <strong>3) Foco en un subconjunto de indicadores</strong></h4>
<p><strong>Se desea lo siguiente:</strong> telaraña de <strong>LAB (2025)</strong> con <strong>sólo tres indicadores</strong> (por código o nombre) y un conjunto amplio de regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_radar</span>(</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion   =</span> <span class="dv">2025</span>,</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar     =</span> <span class="st">"LAB"</span>,</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="fu">c</span>(<span class="st">"LAB1"</span>, <span class="st">"LAB2"</span>, <span class="st">"LAB3"</span>, <span class="st">"LAB5"</span>, <span class="st">"LAB6"</span>),</span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"gr_norte"</span>,</span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">etiquetas_indicadores =</span> <span class="st">"codigo"</span>,</span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"viridis"</span>,</span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_regiones =</span> <span class="dv">8</span>,  </span>
<span id="cb102-9"><a href="#cb102-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha     =</span> <span class="fl">0.2</span></span>
<span id="cb102-10"><a href="#cb102-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-96-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Radar con <strong>sólo los indicadores</strong> elegidos.</p>
</section>
</section>
</section>
<section id="distribución-por-indicador-indc_distribucion-1" class="level2" data-number="5.9">
<h2 data-number="5.9" class="anchored" data-anchor-id="distribución-por-indicador-indc_distribucion-1"><span class="header-section-number">5.9</span> <strong>Distribución por indicador (indc_distribucion)</strong></h2>
<ul>
<li><p><strong>indc_distribucion()</strong> muestra, para <strong>una edición</strong> y <strong>un pilar</strong>, la <strong>distribución de puntajes (0–10)</strong> por <strong>indicador</strong> entre regiones, como <strong>boxplot</strong> o <strong>violin</strong>. El eje X son <strong>códigos</strong> (p.ej., LAB1, LAB2, …) y el eje Y es el <strong>puntaje (0–10)</strong>.</p></li>
<li><p>Siempre <strong>excluye</strong> “Perú” y “General”, y consolida a <strong>un valor por (región, indicador)</strong> mediante promedio defensivo ante duplicados. Internamente lee con agregar_codigos = TRUE para garantizar el eje en códigos.</p></li>
</ul>
<section id="parámetros-decisiones-clave-4" class="level3" data-number="5.9.1">
<h3 data-number="5.9.1" class="anchored" data-anchor-id="parámetros-decisiones-clave-4"><span class="header-section-number">5.9.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<ul>
<li><p><strong>edicion</strong>: año único (p.ej., 2025).</p></li>
<li><p><strong>pilar</strong>: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/….</p></li>
<li><p><strong>indicadores</strong>: “ALL” (default) o vector de <strong>códigos</strong>/<strong>nombres</strong> (p.ej., c(“LAB1”,“Inserción laboral juvenil”)).</p></li>
<li><p><strong>regiones</strong>: “ALL” o vector; admite <strong>grupos</strong> gr_* y <strong>exclusiones</strong> con “-” (vía helpers de regiones).</p></li>
<li><p><strong>usar_codigos</strong>: si TRUE (default), permite pasar códigos en pilar/regiones/indicadores.</p></li>
<li><p><strong>tipo</strong>: “boxplot” (default) o “violin”.</p></li>
<li><p><strong>jitter</strong>: TRUE para superponer puntos individuales (ruido controlado).</p></li>
<li><p><strong>paleta</strong>: “blues” (default), “viridis”, “cividis” — aplicada <strong>por indicador</strong>.</p></li>
<li><p><strong>linea_promedio</strong>: TRUE dibuja línea horizontal con el <strong>promedio global</strong> de puntajes.</p></li>
<li><p><strong>mostrar_leyenda</strong>: FALSE (default). Útil activarla si quieres identificar el <strong>relleno por indicador</strong>.</p></li>
</ul>
</section>
<section id="explicación-conceptual-17" class="level3" data-number="5.9.2">
<h3 data-number="5.9.2" class="anchored" data-anchor-id="explicación-conceptual-17"><span class="header-section-number">5.9.2</span> <strong>Explicación conceptual</strong></h3>
<ul>
<li><p>Trabaja solo con <strong>puntajes estandarizados (0–10)</strong> del INCORE y permite comparar <strong>dispersión</strong> entre regiones por indicador dentro del pilar.</p></li>
<li><p>El <strong>orden</strong> de los indicadores en el eje X se define por la <strong>mediana</strong> de su distribución (desc), facilitando la lectura de mayor a menor desempeño típico.</p></li>
<li><p>Con tipo = “boxplot” ves mediana, IQR y atípicos; con tipo = “violin” ves densidad. El jitter aporta la granularidad por región.</p></li>
<li><p>La <strong>línea punteada</strong> (linea_promedio) resume el <strong>promedio general</strong> de puntajes de todos los indicadores seleccionados.</p></li>
</ul>
</section>
<section id="ejemplos-17" class="level3" data-number="5.9.3">
<h3 data-number="5.9.3" class="anchored" data-anchor-id="ejemplos-17"><span class="header-section-number">5.9.3</span> <strong>Ejemplos</strong></h3>
<section id="boxplot-de-todos-los-indicadores-de-un-pilar-1" class="level4" data-number="5.9.3.1">
<h4 data-number="5.9.3.1" class="anchored" data-anchor-id="boxplot-de-todos-los-indicadores-de-un-pilar-1"><span class="header-section-number">5.9.3.1</span> <strong>1) Boxplot de todos los indicadores de un pilar</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar la <strong>distribución</strong> de puntajes de <strong>LAB</strong> en <strong>2025</strong> para <strong>todas</strong> las regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_distribucion</span>(</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion         =</span> <span class="dv">2025</span>,</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar           =</span> <span class="st">"LAB"</span>,</span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb103-5"><a href="#cb103-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="st">"ALL"</span>,</span>
<span id="cb103-6"><a href="#cb103-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo            =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb103-7"><a href="#cb103-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter          =</span> <span class="cn">TRUE</span>,</span>
<span id="cb103-8"><a href="#cb103-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"blues"</span>,</span>
<span id="cb103-9"><a href="#cb103-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb103-10"><a href="#cb103-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">FALSE</span></span>
<span id="cb103-11"><a href="#cb103-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-97-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Boxplots por <strong>LAB1, LAB2, …</strong> ordenados por mediana (desc), con puntos por región y una línea de promedio global.</p>
</section>
<section id="violin-para-un-subconjunto-de-indicadores-1" class="level4" data-number="5.9.3.2">
<h4 data-number="5.9.3.2" class="anchored" data-anchor-id="violin-para-un-subconjunto-de-indicadores-1"><span class="header-section-number">5.9.3.2</span> <strong>2) Violin para un subconjunto de indicadores</strong></h4>
<p><strong>Se desea lo siguiente:</strong> visualizar solo <strong>LAB2</strong> y <strong>LAB5</strong> como violines, con puntos, en 2025.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_distribucion</span>(</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion         =</span> <span class="dv">2025</span>,</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar           =</span> <span class="st">"LAB"</span>,</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores     =</span> <span class="fu">c</span>(<span class="st">"LAB2"</span>, <span class="st">"LAB5"</span>),</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="st">"ALL"</span>,</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo            =</span> <span class="st">"violin"</span>,</span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter          =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"viridis"</span>,</span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio  =</span> <span class="cn">TRUE</span>,</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-98-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dos violines (LAB2, LAB5) con escala 0–10 y línea de promedio.</p>
</section>
<section id="con-grupos-y-exclusiones-de-regiones-1" class="level4" data-number="5.9.3.3">
<h4 data-number="5.9.3.3" class="anchored" data-anchor-id="con-grupos-y-exclusiones-de-regiones-1"><span class="header-section-number">5.9.3.3</span> <strong>3) Con grupos y exclusiones de regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar la distribución de <strong>ECO</strong> (todos los indicadores) en 2024 para <strong>Costa</strong> y <strong>Norte</strong>, excluyendo “Lima*”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_distribucion</span>(</span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion         =</span> <span class="dv">2024</span>,</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar           =</span> <span class="st">"ECO"</span>,</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores     =</span> <span class="st">"ALL"</span>,</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_norte"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">tipo            =</span> <span class="st">"boxplot"</span>,</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">jitter          =</span> <span class="cn">TRUE</span>,</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"cividis"</span>,</span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">linea_promedio  =</span> <span class="cn">TRUE</span></span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-99-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Distribuciones por indicador solo para las regiones filtradas; “Lima*” no aparece.</p>
</section>
</section>
</section>
<section id="heatmap-por-indicadores-o-por-tiempo-indc_heatmap" class="level2" data-number="5.10">
<h2 data-number="5.10" class="anchored" data-anchor-id="heatmap-por-indicadores-o-por-tiempo-indc_heatmap"><span class="header-section-number">5.10</span> <strong>Heatmap por indicadores o por tiempo (indc_heatmap)</strong></h2>
<ul>
<li><p><strong>indc_heatmap()</strong> dibuja un mapa de calor con filas = <strong>regiones</strong> y columnas que pueden ser:</p>
<ul>
<li><p><strong>Indicadores</strong> de un <strong>pilar</strong> en <strong>una</strong> edición (modo = “indicadores”).</p></li>
<li><p><strong>Ediciones</strong> para <strong>un</strong> <strong>indicador</strong> (modo = “tiempo”).</p></li>
</ul></li>
<li><p>Siempre trabaja con <strong>puntajes 0–10</strong>, usando indc_leer_incore(…, agregar_codigos = TRUE) y excluyendo el indicador <strong>“General”</strong> (y la fila <strong>“Perú”</strong>).</p></li>
</ul>
<section id="parámetros-decisiones-clave-5" class="level3" data-number="5.10.1">
<h3 data-number="5.10.1" class="anchored" data-anchor-id="parámetros-decisiones-clave-5"><span class="header-section-number">5.10.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<ul>
<li><p><strong>modo</strong>: “indicadores” (columnas = indicadores, una edición) o “tiempo” (columnas = ediciones, un indicador).</p></li>
<li><p><strong>pilar</strong>: código “ECO”/“LAB”/… o nombre “Entorno económico”/“Laboral”/… (requerido si modo=“indicadores”).</p></li>
<li><p><strong>indicador</strong>: código o nombre (requerido si modo=“tiempo”).</p></li>
<li><p><strong>edicion</strong>: año único (cuando modo=“indicadores”).</p></li>
<li><p><strong>ediciones</strong>: rango con ≥2 años (cuando modo=“tiempo”, p.ej., 2019:2025).</p></li>
<li><p><strong>regiones</strong>: “ALL” o vector; admite <strong>grupos</strong> gr_* y <strong>exclusiones</strong> con “-” (se apoya en tus helpers de regiones).</p></li>
<li><p><strong>usar_codigos</strong>: si TRUE, permite pasar códigos en pilar/indicador/regiones.</p></li>
<li><p><strong>ordenar</strong> (solo modo=“tiempo”): “ninguno”, “por_ultimo” (ordena por el valor en la última edición), “por_promedio”.</p></li>
<li><p><strong>paleta</strong>: “blues”, “viridis”, “cividis”, “magma” (escala continua).</p></li>
<li><p><strong>anotar</strong>: si TRUE, escribe el valor dentro de cada celda.</p></li>
<li><p><strong>mostrar_leyenda</strong>: TRUE/FALSE.</p></li>
</ul>
</section>
<section id="explicación-conceptual-18" class="level3" data-number="5.10.2">
<h3 data-number="5.10.2" class="anchored" data-anchor-id="explicación-conceptual-18"><span class="header-section-number">5.10.2</span> <strong>Explicación conceptual</strong></h3>
<ul>
<li><p>En modo = “indicadores” las columnas son <strong>códigos de indicador</strong> (p.ej., LAB1, LAB2, …) del pilar elegido en la <strong>edición</strong> indicada; útil para comparar desempeño <strong>entre indicadores</strong> dentro del pilar.</p></li>
<li><p>En modo = “tiempo” las columnas son <strong>ediciones</strong> para un <strong>indicador</strong> específico; útil para ver <strong>trayectorias</strong> por región.</p>
<p>El parámetro ordenar ayuda a resaltar patrones (por el último dato o por el promedio).</p></li>
<li><p>Siempre se consolida a <strong>un valor por celda</strong> mediante <strong>promedio defensivo</strong> si aparecen duplicados en (región, indicador) o (región, edición).</p></li>
</ul>
</section>
<section id="ejemplos-18" class="level3" data-number="5.10.3">
<h3 data-number="5.10.3" class="anchored" data-anchor-id="ejemplos-18"><span class="header-section-number">5.10.3</span> <strong>Ejemplos</strong></h3>
<section id="a-indicadores-de-un-pilar-en-una-edición" class="level4" data-number="5.10.3.1">
<h4 data-number="5.10.3.1" class="anchored" data-anchor-id="a-indicadores-de-un-pilar-en-una-edición"><span class="header-section-number">5.10.3.1</span> <strong>A) Indicadores de un pilar en una edición</strong></h4>
<p><strong>Se desea lo siguiente:</strong> heatmap de <strong>EDU</strong> en <strong>2025</strong> (todas las regiones), con valores anotados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_heatmap</span>(</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo       =</span> <span class="st">"indicadores"</span>,</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar      =</span> <span class="st">"EDU"</span>,</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion    =</span> <span class="dv">2025</span>,</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones   =</span> <span class="st">"ALL"</span>,</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta     =</span> <span class="st">"blues"</span>,</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar     =</span> <span class="cn">TRUE</span>,</span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">usar_codigos =</span> <span class="cn">TRUE</span></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-100-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas = regiones; columnas = <strong>EDU1, EDU2, …</strong>; celdas en escala 0–10 con rótulos numéricos.</p>
</section>
<section id="b-evolución-temporal-de-un-indicador" class="level4" data-number="5.10.3.2">
<h4 data-number="5.10.3.2" class="anchored" data-anchor-id="b-evolución-temporal-de-un-indicador"><span class="header-section-number">5.10.3.2</span> <strong>B) Evolución temporal de un indicador</strong></h4>
<p><strong>Se desea lo siguiente:</strong> heatmap de <strong>LAB2</strong> en <strong>2019–2025</strong>, ordenando filas por el <strong>valor en la última edición</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_heatmap</span>(</span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo        =</span> <span class="st">"tiempo"</span>,</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador   =</span> <span class="st">"LAB2"</span>,</span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones   =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones    =</span> <span class="st">"ALL"</span>,</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">ordenar     =</span> <span class="st">"por_ultimo"</span>,</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta      =</span> <span class="st">"viridis"</span>,</span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar      =</span> <span class="cn">FALSE</span></span>
<span id="cb107-9"><a href="#cb107-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-101-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas ordenadas por desempeño en 2025; columnas = 2019…2025; colores 0–10.</p>
</section>
<section id="c-con-grupos-y-exclusiones-de-regiones" class="level4" data-number="5.10.3.3">
<h4 data-number="5.10.3.3" class="anchored" data-anchor-id="c-con-grupos-y-exclusiones-de-regiones"><span class="header-section-number">5.10.3.3</span> <strong>C) Con grupos y exclusiones de regiones</strong></h4>
<p><strong>Se desea lo siguiente:</strong> heatmap de <strong>ECO</strong> (todos los indicadores) en <strong>2024</strong> solo para <strong>Costa</strong> y <strong>Macro Norte</strong>, excluyendo “Lima*”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">indc_heatmap</span>(</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo       =</span> <span class="st">"indicadores"</span>,</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">pilar      =</span> <span class="st">"ECO"</span>,</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion    =</span> <span class="dv">2024</span>,</span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones   =</span> <span class="fu">c</span>(<span class="st">"gr_costa"</span>, <span class="st">"gr_norte"</span>, <span class="st">"-Lima*"</span>),</span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta     =</span> <span class="st">"cividis"</span>,</span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">anotar     =</span> <span class="cn">FALSE</span></span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-102-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Filas restringidas a los grupos solicitados, <strong>sin</strong> Lima*, columnas = indicadores de ECO, escala 0–10.</p>
</section>
</section>
</section>
<section id="ridgeline-por-año-valor_ridgeline" class="level2" data-number="5.11">
<h2 data-number="5.11" class="anchored" data-anchor-id="ridgeline-por-año-valor_ridgeline"><span class="header-section-number">5.11</span> <strong>Ridgeline por año (valor_ridgeline)</strong></h2>
<ul>
<li><p><strong>valor_ridgeline()</strong> muestra la <strong>distribución de valores originales (no puntajes)</strong> de un <strong>indicador</strong> del INCORE a lo largo de <strong>varias ediciones</strong> (una cresta por año), agregando sobre <strong>regiones</strong> en cada año.</p></li>
<li><p>Siempre <strong>excluye</strong> registros cuya unidad sea <strong>“Puntaje del 0 al 10”</strong>; por defecto <strong>excluye “Perú”</strong> (puedes incluirlo con incluir_peru = TRUE).</p></li>
</ul>
<section id="parámetros-decisiones-clave-6" class="level3" data-number="5.11.1">
<h3 data-number="5.11.1" class="anchored" data-anchor-id="parámetros-decisiones-clave-6"><span class="header-section-number">5.11.1</span> <strong>Parámetros: decisiones clave</strong></h3>
<ul>
<li><p><strong>indicador</strong>: código o nombre (p.ej., “EDU2” o “2.2 …”).</p></li>
<li><p><strong>ediciones</strong>: rango con ≥ 2 años (p.ej., 2017:2025).</p></li>
<li><p><strong>regiones</strong>: “ALL” (default) o vector; admite <strong>códigos</strong>/nombres (y los helpers de tu paquete).</p></li>
<li><p><strong>usar_codigos</strong>: TRUE (default) para traducir códigos en filtros.</p></li>
<li><p><strong>incluir_peru</strong>: FALSE (default). Si TRUE, incluye la fila “Perú”.</p></li>
<li><p><strong>paleta</strong>: “ipe”, “okabe_ito”, “viridis” (colorea <strong>años</strong>).</p></li>
<li><p><strong>scale</strong>: superposición vertical de crestas (default 1.1).</p></li>
<li><p><strong>rel_min_height</strong>: umbral mínimo relativo de densidad (default 0.001).</p></li>
<li><p><strong>mostrar_leyenda</strong>: FALSE (default) para ocultar la leyenda de años.</p></li>
</ul>
</section>
<section id="explicación-conceptual-19" class="level3" data-number="5.11.2">
<h3 data-number="5.11.2" class="anchored" data-anchor-id="explicación-conceptual-19"><span class="header-section-number">5.11.2</span> <strong>Explicación conceptual</strong></h3>
<ul>
<li><p>Trabaja con <strong>valores originales</strong> (unidades propias) del indicador; <strong>no</strong> con el puntaje 0–10.</p></li>
<li><p>Para cada <strong>año</strong> se estima una <strong>densidad</strong> con los valores de las <strong>regiones</strong> filtradas; si un año tiene <strong>&lt; 3 observaciones</strong>, se omite por estabilidad.</p></li>
<li><p>El <strong>título</strong> usa el nombre del indicador y el <strong>subtítulo</strong> la <strong>unidad</strong> (cuando está disponible). El <em>caption</em> puede incorporar <strong>fuente(s)</strong> automáticamente.</p></li>
</ul>
</section>
<section id="ejemplos-19" class="level3" data-number="5.11.3">
<h3 data-number="5.11.3" class="anchored" data-anchor-id="ejemplos-19"><span class="header-section-number">5.11.3</span> <strong>Ejemplos</strong></h3>
<section id="evolución-20172025-para-todas-las-regiones-básico" class="level4" data-number="5.11.3.1">
<h4 data-number="5.11.3.1" class="anchored" data-anchor-id="evolución-20172025-para-todas-las-regiones-básico"><span class="header-section-number">5.11.3.1</span> <strong>1) Evolución 2017–2025 para todas las regiones (básico)</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_ridgeline</span>(</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"EDU2"</span>,</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2017</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span>,</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"ipe"</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-103-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="solo-un-subconjunto-de-regiones" class="level4" data-number="5.11.3.2">
<h4 data-number="5.11.3.2" class="anchored" data-anchor-id="solo-un-subconjunto-de-regiones"><span class="header-section-number">5.11.3.2</span> <strong>2) Solo un subconjunto de regiones</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_ridgeline</span>(</span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador =</span> <span class="st">"EDU2"</span>,</span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Cusco"</span>, <span class="st">"Tacna"</span>, <span class="st">"La Libertad"</span>),</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta    =</span> <span class="st">"okabe_ito"</span>,</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda =</span> <span class="cn">TRUE</span></span>
<span id="cb110-7"><a href="#cb110-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-104-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="ajuste-fino-de-superposición-y-suavizado" class="level4" data-number="5.11.3.3">
<h4 data-number="5.11.3.3" class="anchored" data-anchor-id="ajuste-fino-de-superposición-y-suavizado"><span class="header-section-number">5.11.3.3</span> <strong>3) Ajuste fino de superposición y suavizado</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">valor_ridgeline</span>(</span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicador       =</span> <span class="st">"1.7 Billeteras digitales"</span>,</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones       =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones        =</span> <span class="st">"ALL"</span>,</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta          =</span> <span class="st">"viridis"</span>,</span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">scale           =</span> <span class="fl">1.3</span>,</span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">rel_min_height  =</span> <span class="fl">0.002</span>,</span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru    =</span> <span class="cn">FALSE</span></span>
<span id="cb111-9"><a href="#cb111-9" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-105-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="funciones-bivalor_" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Funciones bivalor_</h1>
<p>La familia <code>bivalor_</code> permite analizar <strong>relaciones entre dos o más indicadores</strong> de manera conjunta.<br>
Está diseñada para explorar <strong>correlaciones, dispersiones y series de tiempo comparadas</strong> entre indicadores, ya sea en <strong>puntajes (0–10)</strong> o en <strong>valores originales</strong>, según la fuente de datos cargada.</p>
<section id="bivalor_largo" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="bivalor_largo"><span class="header-section-number">6.1</span> <strong>bivalor_largo()</strong></h2>
<p><strong>Comparación bivariada de valores de dos indicadores a lo largo del tiempo</strong></p>
<section id="introducción-10" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="introducción-10"><span class="header-section-number">6.1.1</span> <strong>Introducción</strong></h3>
<p>La función bivalor_largo() permite <strong>trazar y comparar simultáneamente dos indicadores distintos</strong> del INCORE en términos de sus <strong>valores originales</strong> (no puntajes estandarizados) a lo largo de varias ediciones.</p>
<p>El objetivo es visualizar en un solo panel cómo evolucionan dos magnitudes diferentes (por ejemplo, porcentaje de acceso a internet y gasto público per cápita) a través del tiempo, <strong>promediadas sobre un conjunto de regiones</strong> seleccionado. Cada indicador se muestra con un color distinto y se asocia a un <strong>eje Y propio</strong> (izquierdo/derecho), lo que garantiza la comparabilidad aun cuando se midan en unidades diferentes.</p>
<p>Esta función es particularmente útil cuando se busca <strong>relacionar tendencias entre dos fenómenos</strong>, identificando convergencias, divergencias o trayectorias paralelas en el marco del análisis regional.</p>
</section>
<section id="parámetros-11" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="parámetros-11"><span class="header-section-number">6.1.2</span> <strong>Parámetros</strong></h3>
<ul>
<li><p><strong>ediciones</strong>: rango de años a analizar.</p>
<ul>
<li><p>Requiere ≥ 2 valores.</p></li>
<li><p>Ejemplo: 2019:2025.</p></li>
</ul></li>
<li><p><strong>ind_x, ind_y</strong>: indicadores a comparar.</p>
<ul>
<li><p>Pueden especificarse por <strong>código</strong> (ej. “ECO3”) o por <strong>nombre completo</strong>.</p></li>
<li><p>Se grafican en paralelo, cada uno con su eje Y.</p></li>
</ul></li>
<li><p><strong>regiones</strong>: delimita el conjunto de regiones consideradas en el promedio.</p>
<ul>
<li><p>“ALL” (por defecto) = todas las regiones.</p></li>
<li><p>Vector de nombres o códigos.</p></li>
<li><p>Grupos predefinidos (gr_*) o exclusiones (“-Lima*”).</p></li>
</ul></li>
<li><p><strong>usar_codigos</strong>: si TRUE (default), permite ingresar códigos en filtros.</p></li>
<li><p><strong>incluir_peru</strong>: si TRUE, añade la fila agregada nacional (“Perú”). Por defecto se excluye.</p></li>
<li><p><strong>col_x, col_y</strong>: colores de las series X e Y, respectivamente.</p>
<ul>
<li>Por defecto: “#355C7D” y “#35B778”.</li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-20" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="explicación-conceptual-20"><span class="header-section-number">6.1.3</span> <strong>Explicación conceptual</strong></h3>
<p>El funcionamiento de bivalor_largo() sigue tres pasos:</p>
<ol type="1">
<li><p><strong>Resolución de indicadores.</strong> Se consulta el catálogo oficial para mapear código ↔︎ nombre y asegurar la selección de los indicadores correctos.</p></li>
<li><p><strong>Preparación de datos.</strong> Se filtran únicamente los valores originales (excluyendo puntajes 0–10), se aplican los filtros de regiones, y se calcula un <strong>promedio defensivo</strong> por edición e indicador. De esta forma, cada año tiene un valor único por indicador.</p></li>
<li><p><strong>Escalamiento y visualización.</strong></p>
<ul>
<li><p>La serie de ind_x se dibuja con su escala natural en el eje Y izquierdo.</p></li>
<li><p>La serie de ind_y se transforma linealmente para compartir el mismo canvas, pero se muestra en un <strong>eje secundario</strong> (derecho) con sus unidades originales.</p></li>
<li><p>El gráfico incluye líneas y puntos para cada serie, etiquetas de ejes con unidad corta y subtítulo con las unidades completas.</p></li>
</ul></li>
</ol>
<p>Este diseño asegura una representación visual <strong>coherente y comparativa</strong>, sin distorsionar las magnitudes propias de cada indicador.</p>
</section>
<section id="ejemplos-20" class="level3" data-number="6.1.4">
<h3 data-number="6.1.4" class="anchored" data-anchor-id="ejemplos-20"><span class="header-section-number">6.1.4</span> <strong>Ejemplos</strong></h3>
<section id="comparar-conectividad-y-gasto-público" class="level4" data-number="6.1.4.1">
<h4 data-number="6.1.4.1" class="anchored" data-anchor-id="comparar-conectividad-y-gasto-público"><span class="header-section-number">6.1.4.1</span> <strong>1) Comparar conectividad y gasto público</strong></h4>
<p><strong>Se desea lo siguiente:</strong> graficar el acceso a internet (INF2) frente al gasto público per cápita (ECO5) entre 2018 y 2025 para todas las regiones.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_largo</span>(</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2018</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ind_x     =</span> <span class="st">"INF2"</span>,</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ind_y     =</span> <span class="st">"ECO5"</span>,</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="st">"ALL"</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-106-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dos líneas con puntos: INF2 en el eje izquierdo (azul), ECO5 en el derecho (verde), mostrando tendencias paralelas o divergentes.</p>
</section>
<section id="subconjunto-regional-con-exclusión" class="level4" data-number="6.1.4.2">
<h4 data-number="6.1.4.2" class="anchored" data-anchor-id="subconjunto-regional-con-exclusión"><span class="header-section-number">6.1.4.2</span> <strong>2) Subconjunto regional con exclusión</strong></h4>
<p><strong>Se desea lo siguiente:</strong> comparar SAL3 y EDU4 entre 2019–2025 para regiones de la Sierra y Selva, excluyendo Lima.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_largo</span>(</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones =</span> <span class="dv">2019</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ind_x     =</span> <span class="st">"SAL3"</span>,</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ind_y     =</span> <span class="st">"EDU4"</span>,</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones  =</span> <span class="fu">c</span>(<span class="st">"gr_sierra"</span>, <span class="st">"gr_selva"</span>, <span class="st">"-Lima*"</span>)</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-107-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Gráfico con dos series (ejes distintos) basadas en los promedios regionales de las zonas seleccionadas.</p>
</section>
<section id="inclusión-de-perú-y-personalización-de-colores" class="level4" data-number="6.1.4.3">
<h4 data-number="6.1.4.3" class="anchored" data-anchor-id="inclusión-de-perú-y-personalización-de-colores"><span class="header-section-number">6.1.4.3</span> <strong>3) Inclusión de Perú y personalización de colores</strong></h4>
<p><strong>Se desea lo siguiente:</strong> incluir la referencia nacional para comparar ECO2 y ECO6 en 2020–2025, usando colores personalizados.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_largo</span>(</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">ediciones    =</span> <span class="dv">2020</span><span class="sc">:</span><span class="dv">2025</span>,</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">ind_x        =</span> <span class="st">"ECO2"</span>,</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">ind_y        =</span> <span class="st">"ECO6"</span>,</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">incluir_peru =</span> <span class="cn">TRUE</span>,</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_x        =</span> <span class="st">"purple"</span>,</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_y        =</span> <span class="st">"red"</span></span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-108-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Ambas series con sus respectivos ejes, incorporando además la fila “Perú” en los promedios.</p>
</section>
</section>
</section>
<section id="bivalor_dispersion" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="bivalor_dispersion"><span class="header-section-number">6.2</span> <strong>bivalor_dispersion()</strong></h2>
<p><strong>Dispersión bivariada de valores por región en una edición del INCORE</strong></p>
<section id="introducción-11" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="introducción-11"><span class="header-section-number">6.2.1</span> <strong>Introducción</strong></h3>
<p>bivalor_dispersion() grafica, para <strong>una edición</strong>, la relación entre <strong>dos indicadores</strong> del INCORE usando sus <strong>valores originales</strong> (no puntajes 0–10). Cada punto representa una <strong>región</strong>; el <strong>eje X</strong> corresponde a ind_x y el <strong>eje Y</strong> a ind_y.</p>
<p>La función acepta indicadores por <strong>código</strong> (p.&nbsp;ej., “EDU1”) o por <strong>nombre completo</strong>, excluye “Perú” por defecto y permite tres estrategias de color: <strong>cualitativa</strong> por región, <strong>monocroma</strong>, o un modo para <strong>resaltar</strong> un subconjunto de regiones sobre un fondo atenuado. Es ideal para explorar <strong>correlaciones</strong>, <strong>patrones</strong> y <strong>outliers</strong> entre dos magnitudes sustantivas en un corte temporal.</p>
</section>
<section id="parámetros-12" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="parámetros-12"><span class="header-section-number">6.2.2</span> <strong>Parámetros</strong></h3>
<ul>
<li><p><strong>edicion</strong>: año único del INCORE.</p>
<ul>
<li>Ejemplo: 2025.</li>
</ul></li>
<li><p><strong>ind_x, ind_y</strong>: indicadores a ubicar en los ejes X e Y.</p>
<ul>
<li><p>Por <strong>código</strong> (p.&nbsp;ej., “EDU1”, “LAB3”) o por <strong>nombre completo</strong>.</p></li>
<li><p>Trabaja con <strong>valores originales</strong> (unidades propias).</p></li>
</ul></li>
<li><p><strong>regiones</strong>: selección de regiones a mostrar.</p>
<ul>
<li><p>“ALL” (default) = todas.</p></li>
<li><p>Vector mixto de <strong>nombres</strong>, <strong>códigos</strong> o <strong>grupos</strong> gr_* (admite exclusiones con prefijo “-”).</p></li>
</ul></li>
<li><p><strong>usar_codigos</strong>: si TRUE (default), permite filtros por <strong>código</strong> en regiones/indicadores y los traduce a nombres oficiales.</p></li>
<li><p><strong>incluir_peru</strong>: si TRUE, incluye la fila “Perú” en la dispersión.</p>
<ul>
<li>Default: FALSE.</li>
</ul></li>
<li><p><strong>paleta</strong>: esquema de color para puntos.</p>
<ul>
<li>“ipe” (default), “okabe_ito”, “viridis”, “mono” (monocromo).</li>
</ul></li>
<li><p><strong>color_mono</strong>: color único cuando paleta = “mono”.</p>
<ul>
<li>Default: “#3B5B92”.</li>
</ul></li>
<li><p><strong>modo</strong>: lógica de coloración.</p>
<ul>
<li><p>“normal”: colores por región (según paleta).</p></li>
<li><p>“resaltar”: colorea <strong>sólo</strong> un subconjunto y atenúa el resto.</p></li>
</ul></li>
<li><p><strong>highlight_regiones</strong>: vector de regiones a <strong>resaltar</strong> cuando modo = “resaltar”.</p>
<ul>
<li>Recomendado ≤ 8 para legibilidad.</li>
</ul></li>
<li><p><strong>highlight_color</strong>: color para las regiones resaltadas.</p>
<ul>
<li>Default: “#D7301F”.</li>
</ul></li>
<li><p><strong>mostrar_leyenda</strong>: mostrar/ocultar leyenda.</p>
<ul>
<li>En paleta = “mono” se ignora; en modo = “resaltar” se muestran <strong>sólo</strong> las resaltadas.</li>
</ul></li>
</ul>
</section>
<section id="explicación-conceptual-21" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="explicación-conceptual-21"><span class="header-section-number">6.2.3</span> <strong>Explicación conceptual</strong></h3>
<ol type="1">
<li><p><strong>Valores, no puntajes.</strong> La función opera con las <strong>magnitudes originales</strong> (tasas, montos, porcentajes, etc.). Si hubiera duplicados para un mismo <strong>(región, indicador)</strong>, se consolida por <strong>promedio</strong> para asegurar un punto por región.</p></li>
<li><p><strong>Resolución código ↔︎ nombre.</strong> Se consulta el <strong>catálogo oficial</strong> para mapear automáticamente códigos y nombres de indicadores antes de filtrar y cruzar ind_x con ind_y.</p></li>
<li><p><strong>Coloración flexible.</strong></p>
<ul>
<li><p>En <strong>modo normal</strong>, cada región recibe un color (paletas cualitativas robustas).</p></li>
<li><p>En <strong>monocromo</strong>, todas comparten un mismo tono (útil para enfatizar la nube de puntos y la forma de la relación).</p></li>
<li><p>En <strong>resaltar</strong>, solo un subconjunto se muestra en color destacado, mientras que el resto queda en gris tenue; la leyenda enumera únicamente las resaltadas.</p></li>
</ul></li>
<li><p><strong>Etiquetas con unidad corta.</strong> Los ejes muestran el <strong>nombre del indicador</strong> y su <strong>unidad abreviada</strong>, facilitando la lectura cruzada cuando las magnitudes son diferentes.</p></li>
</ol>
</section>
<section id="ejemplos-21" class="level3" data-number="6.2.4">
<h3 data-number="6.2.4" class="anchored" data-anchor-id="ejemplos-21"><span class="header-section-number">6.2.4</span> <strong>Ejemplos</strong></h3>
<section id="dispersión-simple-todas-las-regiones-color-por-región" class="level4" data-number="6.2.4.1">
<h4 data-number="6.2.4.1" class="anchored" data-anchor-id="dispersión-simple-todas-las-regiones-color-por-región"><span class="header-section-number">6.2.4.1</span> <strong>1) Dispersión simple (todas las regiones, color por región)</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_dispersion</span>(<span class="dv">2025</span>, </span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ind_x =</span> <span class="st">"EDU1"</span>, </span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">ind_y =</span> <span class="st">"LAB3"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-109-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Nube de puntos donde cada color identifica una región; ejes etiquetados con nombre de indicador y unidad corta.</p>
</section>
<section id="subconjunto-de-regiones-y-paleta-okabeito" class="level4" data-number="6.2.4.2">
<h4 data-number="6.2.4.2" class="anchored" data-anchor-id="subconjunto-de-regiones-y-paleta-okabeito"><span class="header-section-number">6.2.4.2</span> <strong>2) Subconjunto de regiones y paleta Okabe–Ito</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_dispersion</span>(</span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2025</span>, <span class="st">"EDU1"</span>, <span class="st">"LAB3"</span>,</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Lima*"</span>, <span class="st">"MOQ"</span>,</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"CUS"</span>, <span class="st">"APC"</span>, <span class="st">"ANC"</span>),</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta   =</span> <span class="st">"okabe_ito"</span></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-110-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Dispersión sólo con las regiones seleccionadas, colores accesibles (Okabe–Ito) y sin “Perú”.</p>
</section>
<section id="modo-monocromo-sin-leyenda" class="level4" data-number="6.2.4.3">
<h4 data-number="6.2.4.3" class="anchored" data-anchor-id="modo-monocromo-sin-leyenda"><span class="header-section-number">6.2.4.3</span> <strong>3) Modo monocromo, sin leyenda</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_dispersion</span>(</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2025</span>, <span class="st">"EDU1"</span>, <span class="st">"LAB3"</span>,</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta     =</span> <span class="st">"mono"</span>,</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">color_mono =</span> <span class="st">"#555577"</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-111-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
<p><strong>Resultado esperado.</strong> Puntos en un único color; ideal para destacar el <strong>patrón geométrico</strong> de la relación.</p>
</section>
<section id="resaltar-conjunto-sobre-fondo-gris" class="level4" data-number="6.2.4.4">
<h4 data-number="6.2.4.4" class="anchored" data-anchor-id="resaltar-conjunto-sobre-fondo-gris"><span class="header-section-number">6.2.4.4</span> <strong>4) Resaltar conjunto sobre fondo gris</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_dispersion</span>(</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2025</span>, <span class="st">"EDU1"</span>, <span class="st">"LAB3"</span>,</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">modo               =</span> <span class="st">"resaltar"</span>,</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">highlight_regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>,<span class="st">"Cusco"</span>,<span class="st">"Tacna"</span>),</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">highlight_color    =</span> <span class="st">"#C43C39"</span>,</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">mostrar_leyenda    =</span> <span class="cn">TRUE</span></span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-112-1.png" class="img-fluid figure-img" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="matriz-de-correlaciones-bivariadas-de-valores-bivalor_correlaciones" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="matriz-de-correlaciones-bivariadas-de-valores-bivalor_correlaciones"><span class="header-section-number">6.3</span> <strong>Matriz de correlaciones bivariadas de valores (bivalor_correlaciones)</strong></h2>
<p><strong>Visualiza relaciones entre múltiples indicadores (en valores originales, no puntajes 0–10) en una edición del INCORE</strong></p>
<section id="introducción-12" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="introducción-12"><span class="header-section-number">6.3.1</span> <strong>Introducción</strong></h3>
<p>bivalor_correlaciones() construye una <strong>matriz tipo pairs</strong> para un conjunto de indicadores medidos en <strong>valores originales</strong> en una <strong>edición</strong> específica. La matriz integra tres vistas complementarias:</p>
<ul>
<li><p><strong>Triángulo superior:</strong> <strong>dispersión</strong> X vs.&nbsp;Y por <strong>región</strong> (cada punto es una región).</p></li>
<li><p><strong>Diagonal:</strong> <strong>densidad univariada</strong> de cada indicador (distribución entre regiones).</p></li>
<li><p><strong>Triángulo inferior:</strong> <strong>heatmap</strong> del <strong>coeficiente de correlación</strong> (Spearman o Pearson) entre indicadores, con el valor numérico en la celda.</p></li>
</ul>
<p>Por defecto se excluye la fila “Perú”, así la correlación se calcula comparando únicamente <strong>regiones</strong>. La función consolida defensivamente a <strong>un valor por (región, indicador)</strong> si hubiera duplicados esporádicos.</p>
</section>
<section id="parámetros-13" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="parámetros-13"><span class="header-section-number">6.3.2</span> <strong>Parámetros</strong></h3>
<ul>
<li><p><strong>edicion</strong></p>
<p>Año único del INCORE (p.&nbsp;ej., 2016 … 2025).</p></li>
<li><p><strong>indicadores</strong></p>
<p>Conjunto de <strong>códigos</strong> (p.&nbsp;ej., “EDU1”, “LAB3”) y/o <strong>nombres completos</strong> de indicadores. Se requieren <strong>≥ 2</strong>.</p></li>
<li><p><strong>regiones</strong></p>
<p>Universo de análisis. Admite:</p>
<ul>
<li><p>“ALL” (todas las regiones, default)</p></li>
<li><p>Lista de <strong>nombres</strong> y/o <strong>códigos</strong></p></li>
<li><p><strong>Grupos</strong> gr_* y <strong>exclusiones</strong> con “-”</p>
<p>(ej.: gr_costa, gr_norte, -Lima*)</p></li>
</ul></li>
<li><p><strong>usar_codigos</strong></p>
<p>TRUE/FALSE. Si TRUE (recomendado), traduce <strong>códigos</strong> de región/indicador a nombres oficiales antes de filtrar.</p></li>
<li><p><strong>incluir_peru</strong></p>
<p>TRUE/FALSE. Si FALSE (default), se <strong>excluye</strong> “Perú”.</p></li>
<li><p><strong>metodo</strong></p>
<p>Correlación a mostrar en el heatmap:</p>
<ul>
<li><p>“spearman” (default; robusta a no linealidades monótonas y a outliers)</p></li>
<li><p>“pearson” (relaciones lineales, sensible a outliers y a escala)</p></li>
</ul></li>
<li><p><strong>paleta_cor</strong></p>
<p>Esquema de color para el heatmap de correlaciones:</p>
<ul>
<li><p>“rb” = <strong>rojo–blanco–azul</strong> (negativo ↔︎ positivo)</p></li>
<li><p>“viridis” = <strong>escala perceptual</strong> continua</p></li>
</ul></li>
<li><p><strong>alpha_puntos</strong></p>
<p>Opacidad de los puntos en la dispersión (triángulo superior). Default <strong>0.8</strong>.</p></li>
</ul>
</section>
<section id="explicación-conceptual-22" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="explicación-conceptual-22"><span class="header-section-number">6.3.3</span> <strong>Explicación conceptual</strong></h3>
<ol type="1">
<li><p><strong>Lectura y depuración.</strong> Se leen los datos de la <strong>edición</strong> elegida y se normalizan etiquetas. Se <strong>excluye “Perú”</strong> por defecto.</p></li>
<li><p><strong>Resolución de indicadores.</strong> La función acepta mezcla de <strong>códigos</strong> y <strong>nombres</strong>; internamente los alinea y <strong>consolida</strong> a un único valor por (región, indicador) mediante <strong>promedio defensivo</strong> si detecta duplicados.</p></li>
<li><p><strong>Estructura de la matriz.</strong></p>
<ul>
<li><p><strong>Diagonal:</strong> densidades que muestran la <strong>dispersión</strong> regional de cada indicador.</p></li>
<li><p><strong>Superior:</strong> <strong>dispersión</strong> entre pares de indicadores (puntos = regiones).</p></li>
<li><p><strong>Inferior:</strong> <strong>correlación</strong> (r ∈ [-1,1]) con <strong>anotación numérica</strong>; se calculan con <strong>pares completos</strong> por celda.</p></li>
</ul></li>
<li><p><strong>Robustez mínima.</strong> Para calcular correlaciones útiles, cada indicador debe tener <strong>≥ 3</strong> observaciones válidas (regiones). Indicadores con datos insuficientes se omiten automáticamente.</p></li>
</ol>
</section>
<section id="buenas-prácticas-de-lectura" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="buenas-prácticas-de-lectura"><span class="header-section-number">6.3.4</span> <strong>Buenas prácticas de lectura</strong></h3>
<ul>
<li><p>Prefiera <strong>Spearman</strong> cuando sospeche <strong>no linealidad</strong> o presencia de <strong>outliers</strong>; use <strong>Pearson</strong> si espera una relación <strong>lineal</strong> clara y datos <strong>sin valores extremos</strong>.</p></li>
<li><p>Interprete valores |r| <strong>≥ 0.7</strong> como <strong>altos</strong> (según contexto), 0.3–0.7 <strong>moderados</strong>, y &lt; 0.3 <strong>débiles</strong> — siempre con criterio sustantivo y revisando la <strong>dispersión</strong> del triángulo superior.</p></li>
<li><p>Si las <strong>unidades</strong> de dos indicadores difieren sustantivamente y hay <strong>colas pesadas</strong>, la <strong>densidad</strong> (diagonal) y la <strong>forma del scatter</strong> son pistas cruciales para no sobreinterpretar r.</p></li>
</ul>
</section>
<section id="ejemplos-22" class="level3" data-number="6.3.5">
<h3 data-number="6.3.5" class="anchored" data-anchor-id="ejemplos-22"><span class="header-section-number">6.3.5</span> <strong>Ejemplos</strong></h3>
<p>Matriz simple de correlaciones con 3 indicadores (Spearman, default)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_correlaciones</span>(</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="fu">c</span>(<span class="st">"EDU1"</span>, <span class="st">"SAL3"</span>, <span class="st">"INF2"</span>)</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-113-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Análisis focalizado en 4 indicadores y un conjunto de regiones</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_correlaciones</span>(</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="fu">c</span>(<span class="st">"1.1 PBI real en logaritmos"</span>, <span class="st">"5.1 Conclusión secundaria"</span>,</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">"4.1 Desnutrición crónica"</span>, <span class="st">"2.1 Ingreso por hora por trabajo"</span>),</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">regiones =</span> <span class="fu">c</span>(<span class="st">"Arequipa"</span>, <span class="st">"Moquegua"</span>, <span class="st">"Lima*"</span>, <span class="st">"Loreto"</span>)</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-114-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Comparación con Pearson y paleta viridis</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bivalor_correlaciones</span>(</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">edicion =</span> <span class="dv">2025</span>,</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">indicadores =</span> <span class="fu">c</span>(<span class="st">"LAB1"</span>, <span class="st">"LAB2"</span>, <span class="st">"LAB3"</span>, <span class="st">"LAB4"</span>, <span class="st">"LAB5"</span>),</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">metodo =</span> <span class="st">"pearson"</span>,</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">paleta_cor =</span> <span class="st">"viridis"</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Manual_files/figure-html/unnamed-chunk-115-1.png" class="img-fluid figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="notas-y-consideraciones" class="level3" data-number="6.3.6">
<h3 data-number="6.3.6" class="anchored" data-anchor-id="notas-y-consideraciones"><span class="header-section-number">6.3.6</span> <strong>Notas y consideraciones</strong></h3>
<ul>
<li><p>La matriz <strong>omite</strong> indicadores sin datos suficientes (≥ 3 regiones con valor) y <strong>filas con NA completos</strong>, para evitar correlaciones inestables.</p></li>
<li><p>Si la conformación regional es muy desigual, considere restringir a <strong>subconjuntos comparables</strong> (p.&nbsp;ej., macrozonas).</p></li>
<li><p>El resultado es un objeto <strong>GGally::ggpairs</strong>, ideal para <strong>inserción directa</strong> en reportes y para añadir capas (temas/estilos) si se desea.</p></li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>